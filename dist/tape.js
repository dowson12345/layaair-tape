!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=14)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=n(2),r=0,a=0,s=0,u=0;e.initScreen=function(t,e,n){for(var c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];s=e,u=n;var h=Laya.Browser.clientHeight/laya.utils.Browser.clientWidth,d=n/e,f=e,p=n;r=0,a=0,Math.abs(h/d-1)>.1&&(h>d?a=((p=e*h)-n)/2:r=((f=n/h)-e)/2),t?Laya3D.init.apply(this,[f,p].concat(c)):Laya.init.apply(this,[f,p].concat(c)),Laya.stage.scaleMode=Laya.Stage.SCALE_EXACTFIT,Laya.stage.alignH=Laya.Stage.ALIGN_CENTER,Laya.stage.alignV=Laya.Stage.ALIGN_MIDDLE,i.initBg(),o.initUI(r,a)},e.default={getWidth:function(){return Laya.stage.width},getHeight:function(){return Laya.stage.height},getOffestX:function(){return r},getOffestY:function(){return a},getDesignWidth:function(){return s},getDesignHeight:function(){return u}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return window.hasOwnProperty("FBInstant")&&!window.FBInstant.isMock};var o=function(){return window.hasOwnProperty("wx")&&!window.wx.isMock};function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(window.hasOwnProperty("wx")){for(var i=t.split("."),o=window.wx;i.length>1;)o=o[i.shift()];if(o&&1==i.length&&o.hasOwnProperty(i[0]))return o[i[0]].apply(o,e)}}var a="3.4.0",s="${app_version}";var u=!0;var c="${env}";function l(){return 0===c.indexOf("${")?"development":c}e.FACEBOOK="facebook",e.WECHAT="wechat",e.BROWSER="browser",e.default={getAppVersion:function(){return 0===s.indexOf("${")?"1.0.0":s},getVersion:function(){return 0===a.indexOf("${")?"1.0.0":a},isBrowserApp:function(){return!i()&&!o()},isFacebookApp:i,execFB:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(window.hasOwnProperty("FBInstant")){for(var i=t.split("."),o=window.FBInstant;i.length>1;)o=o[i.shift()];if(o&&1==i.length&&o.hasOwnProperty(i[0]))return o[i[0]].apply(o,e)}},isWechatApp:o,execWX:r,postMessageToWXOpenDataContext:function(t){var e=r("getOpenDataContext");e&&e.postMessage&&e.postMessage(t)},setDebug:function(t){u=t},printDebug:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];u&&console.log.apply(console,["Tape:",t].concat(e))},getEnv:l,setEnv:function(t){c=t},isDev:function(){return"production"!==l()},isProd:function(){return"production"===l()},getPlatform:function(){return i()?e.FACEBOOK:o()?e.WECHAT:e.BROWSER}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n(4),a=n(9),s=!1,u=0,c=0;function l(){if(!s){var t=new Laya.Sprite;(i=new Laya.Sprite).x=u,i.y=c,i.name="_tape_main_layer",(o=new Laya.Sprite).name="_tape_top_layer",o.x=u,o.y=c,t.addChild(i),t.addChild(o),Laya.stage.addChild(t),s=!0}}function h(){if(i.numChildren>0&&i.getChildAt(i.numChildren-1)instanceof a.default)return void r.setFocus(!0);r.setFocus(!1)}e.initUI=function(t,e){u=t,c=e,l()},e.default={checkFocus:h,addMainLayer:function(t){l(),t&&i.addChild(t),h()},addTopLayer:function(t){l(),t&&o.addChild(t),h()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=null,r=!1,a=!1,s=null,u=new Promise(function(t){s=t});function c(){var t=o.commonRes||[];t.length>0?Laya.loader.load(t,Laya.Handler.create(null,function(){l(),o.onLoaded&&o.onLoaded()}),Laya.Handler.create(this,function(t){o.onLoadProgress&&o.onLoadProgress(t)},null,!1)):(o.onLoadProgress&&o.onLoadProgress(100),o.onLoaded&&o.onLoaded(),l())}function l(){o.mainPage&&i.default.navigate(o.mainPage)}e.initNavigator=function(t){t&&!r&&((o=t)&&o.fileVersion?(Laya.ResourceVersion.type=Laya.ResourceVersion.FILENAME_VERSION,Laya.ResourceVersion.enable(o.fileVersion,Laya.Handler.create(null,function(){c()}))):c(),r=!0)},e.onNavigatorReady=function(){return a?Promise.resolve():u},e.setNavigatorReady=function(){a||(a=!0,s(),s=null,u=null)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),o=n(2),r=[],a=!1;function s(){return r.length}function u(t){void 0===t&&(t=0);var e=s();return e>t?r[e-1-t]:null}function c(t,e,n){void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=null);var i=u(t);i&&i.show(e&&s()>1,n)}function l(t){(t>=s()&&(t=s()-1),t<=0)||(r.splice(s()-t,t).forEach(function(t){t.hide(),t.exit()}),c(0))}e.setFocus=function(t){var e=u();e&&e.focus(t)},e.default={navigate:function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null),new i.default({page:t,params:e,onShow:function(){var t;t=function(){n&&n(!0)},c(0,!0,function(){var e=u(1);e&&(e.hide(),t&&t())})},onLoaded:function(t){var e;a=!1,o.default.addMainLayer(t),e=t,r.push(e)},onLoadProgress:function(t,e){if(a){var n=u();n&&n.nextProgress(e)}}})},pop:function(t){void 0===t&&(t=1),l(t)},popToTop:function(){l(s())},finish:function(t,e){void 0===e&&(e=null);var n=[];r.forEach(function(i){i.canFinish(t,e)&&n.push(i)}),function(t){if(t&&!(t.length<=0)){for(var e=0;s()>1&&e<t.length;e++){var n=t[e];r.splice(r.indexOf(n),1),n.hide(),n.exit()}c(0)}}(n)}}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n._bgSprite=null,n._bgAlpha=.5,n._bgColor="#000000",n._isTranslucent=!0,n._isShow=!1,n._handleOnTouchOutside=null,n._canceledOnTouchOutside=!1,n._nonPenetrating=!1,n._onEvent=null,n._handleOnTouchOutside=e,n._onEvent=function(t){n.isShow&&n.canceledOnTouchOutside&&n._handleOnTouchOutside&&n._handleOnTouchOutside(),t.stopPropagation()},setTimeout(function(){return n.initBg()},0),n}return o(e,t),Object.defineProperty(e.prototype,"ui",{get:function(){return this.getChildByName("_contentView")},set:function(t){this.removeChildByName("_contentView"),t.name="_contentView",this.addChild(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isShow",{get:function(){return this._isShow},set:function(t){this._isShow=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bgAlpha",{get:function(){return this._bgAlpha},set:function(t){this._bgAlpha=t,this.refreshBg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bgColor",{get:function(){return this._bgColor},set:function(t){this._bgColor=t,this.refreshBg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTranslucent",{get:function(){return this._isTranslucent},set:function(t){this._isTranslucent=t,this.refreshBg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canceledOnTouchOutside",{get:function(){return this._canceledOnTouchOutside},set:function(t){this._canceledOnTouchOutside=t,this.refreshCanceledOnTouchOutside()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonPenetrating",{get:function(){return this._nonPenetrating},set:function(t){this._nonPenetrating=t,this.refreshCanceledOnTouchOutside()},enumerable:!0,configurable:!0}),e.prototype.refreshBg=function(){this._bgSprite&&(this._bgSprite.alpha=this.bgAlpha,this._bgSprite.graphics.clear(),this.isTranslucent||this._bgSprite.graphics.drawRect(0,0,this._bgSprite.width,this._bgSprite.height,this.bgColor))},e.prototype.refreshCanceledOnTouchOutside=function(){this._bgSprite&&this._bgSprite.offAll(),(this.canceledOnTouchOutside||this.nonPenetrating)&&this.ui&&(this.ui.mouseThrough=!0,this._bgSprite&&this._bgSprite.on(Laya.Event.CLICK,this,this._onEvent))},e.prototype.initBg=function(){this._bgSprite||(this._bgSprite=new Laya.Sprite,this._bgSprite.x=-r.default.getOffestX(),this._bgSprite.y=-r.default.getOffestY(),this._bgSprite.width=r.default.getWidth(),this._bgSprite.height=r.default.getHeight(),this.addChildAt(this._bgSprite,0),this.refreshBg(),this.refreshCanceledOnTouchOutside())},e}(Laya.Component);e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),a=n(5),s=n(0),u=function(t){function e(){var e=t.call(this,function(){e.hide()})||this;return e.duration=500,e.easeIn=null,e.easeOut=null,e.fromProps=null,e.toProps=null,e.isTranslucent=!1,e.canceledOnTouchOutside=!1,e.nonPenetrating=!0,e.width=s.default.getWidth(),e.height=s.default.getHeight(),e}return o(e,t),e.show=function(t,e){r.default.showPopup(this,t,e)},e.hide=function(t){r.default.hidePopup(this,null,t)},e.prototype.hide=function(t){void 0===t&&(t=null),r.default.hidePopup(this.popup,this,t)},e}(a.default);e.default=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e._drawlock=null,e.radius=0,e.color="#ff0000",e.callDraw(),e}return o(e,t),e.prototype.callDraw=function(){var t=this;this._drawlock||(this._drawlock=setTimeout(function(){t.draw(),t._drawlock=null},0))},e.prototype.draw=function(){if(this.graphics.clear(),this.radius<=0)this.graphics.drawRect(0,0,this.width,this.height,this.color);else{var t=this.radius;(4*t>this.width||4*t>this.height)&&(t=Math.min(this.width/4,this.height/4)),this.graphics.drawPath(0,0,[["moveTo",t,0],["lineTo",this.width-t,0],["arcTo",this.width,0,this.width,t,t],["lineTo",this.width,this.height-t],["arcTo",this.width,this.height,this.width-t,this.height,t],["lineTo",t,this.height],["arcTo",0,this.height,0,this.height-t,t],["lineTo",0,t],["arcTo",0,0,t,0,t],["closePath"]],{fillStyle:this.color})}},e}(Laya.Sprite);e.BgView=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=null,r="#000000";e.initBg=function(){(o=Laya.stage.getChildByName("tape_background_layer"))||((o=new Laya.Sprite).name="tape_background_layer",Laya.stage.addChild(o)),o.width=i.default.getWidth(),o.height=i.default.getHeight(),o.graphics.clear(),o.graphics.drawRect(0,0,o.width,o.height,r)},e.default={getBgSprite:function(){return o},setBgColor:function(t){r=t,o&&(o.graphics.clear(),o.graphics.drawRect(0,0,o.width,o.height,t))},getBgColor:function(){return r}}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(3),s=function(t){function e(e){var n=t.call(this)||this;n._options=null,n._activity=null,n._isShow=!1,n._isFocus=!1,n.visible=!1,n._options=e;var i=n._options.page.res;return i&&i.length>0?Laya.loader.load(i,Laya.Handler.create(n,function(){n._newActivity(),n._onLoaded()}),Laya.Handler.create(n,function(t){n._onLoadProgress(t)},null,!1)):(n._newActivity(),n._onLoaded()),n}return o(e,t),e.prototype._newActivity=function(){this._activity||(this._activity=new this._options.page({page:this._options.page,params:this._options.params}))},e.prototype._onLoaded=function(){var t=this;a.onNavigatorReady().then(function(){t._options.onLoaded&&t._options.onLoaded(t),t.addChild(t._activity),t._activity.onCreate&&t._activity.onCreate(),t._options.onShow&&t._options.onShow()})},e.prototype._onLoadProgress=function(t){this._options.onLoadProgress&&this._options.onLoadProgress(this,t)},e.prototype.nextProgress=function(t){this._activity.onNextProgress&&this._activity.onNextProgress(t)},e.prototype.canFinish=function(t,e){return t===this._options.page&&(!e||e===this._activity)},e.prototype.show=function(t,e){if(!this.visible&&!this._isShow){this._isShow=!0;var n=this._activity.easeIn||Laya.Ease.linearIn,i=this._activity.duration||0,o=this._activity.fromProps||{},a=this._activity.toProps||{};t&&n&&i>0?(Object.assign(this,o),this._activity.onResume&&this._activity.onResume(),this.visible=!0,Laya.Tween.to(this,a,i,n,Laya.Handler.create(this,function(){e&&e()}))):(this._activity.onResume&&this._activity.onResume(),this.visible=!0,e&&e()),r.default.checkFocus()}},e.prototype.hide=function(){this.visible&&this._isShow&&(this._isShow=!1,this._activity.onPause&&this._activity.onPause(),this.visible=!1,this.focus(!1))},e.prototype.exit=function(){this._activity.onDestroy&&this._activity.onDestroy(),this.destroy()},e.prototype.focus=function(t){this._isFocus!==t&&(this._isFocus=t,this._activity.onFocus&&this._activity.onFocus(t))},e}(Laya.Component);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0);e.fixWidth=function(t){var e=i.default.execWX("getSystemInfoSync");return e?t*e.windowWidth/o.default.getWidth():t},e.fixHeight=function(t){var e=i.default.execWX("getSystemInfoSync");return e?t*e.windowHeight/o.default.getHeight():t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o={};e.default={showPopup:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=o[t],a=new t;a.popup=t,a.params=e||{},a._onHide=n,r?r.push(a):o[t]=[a],i.default.addMainLayer(a),a.onShow&&a.onShow(),function(t,e){var n=t.fromProps||{alpha:0},i=t.toProps||{alpha:1},o=t.easeIn||Laya.Ease.linearIn,r=t.duration||500;Object.assign(t,n),Laya.Tween.to(t,i,r,o,Laya.Handler.create(this,function(){e&&e(t)}))}(a,function(){a.isShow=!0})},hidePopup:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=o[t];if(e){var a=r?r.indexOf(e):-1;if(a<0)return;r.splice(a,1),e._onHide&&e._onHide(e.popup,n),e.onHide&&e.onHide(e.popup,n),e.removeSelf&&e.removeSelf(),e.destroy&&e.destroy(),i.default.checkFocus()}else r&&r.splice(0,r.length).forEach(function(t){!function(t,e){var n=t.fromProps||{alpha:0},i=t.toProps||{alpha:1},o=t.easeOut||Laya.Ease.linearOut,r=t.duration||500;Object.assign(t,i),Laya.Tween.to(t,n,r,o,Laya.Handler.create(this,function(){e&&e(t)}))}(t,function(){t._onHide&&t._onHide(t.popup,n),t.onHide&&t.onHide(t.popup,n),t.removeSelf&&t.removeSelf(),t.destroy&&t.destroy(),i.default.checkFocus()})})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o={};function r(t,e){if(!o[t])return[];if(e&&o[t].length>1)return o[t].splice(o[t].indexOf(e),1),[e];var n=o[t]||[];return delete o[t],n}e.default={showToast:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var a=new t;a._on_hide=n,a.toast=t,a.params=e||{},a.onShow&&a.onShow();var s=a.fromProps||{alpha:0},u=a.toProps||{alpha:1},c=a.easeIn||Laya.Ease.linearIn,l=a.easeOut||Laya.Ease.linearOut,h=a.duration,d=a.displayDuration;Object.assign(a,s),Laya.Tween.to(a,u,h,c,Laya.Handler.create(this,function(){a.isShow=!0}),0),Laya.Tween.to(a,s,h,l,Laya.Handler.create(this,function(){a&&(r(t,a),a._on_hide&&a._on_hide(a.toast),a.onHide&&a.onHide(),a.destroy())}),d+h),function(t,e){o[t]?o[t].push(e):o[t]=[e]}(t,a),i.default.addTopLayer(a)},hideToast:function(t,e){void 0===e&&(e=null),r(t,e).forEach(function(t){t._on_hide&&t._on_hide(t.toast),t.onHide&&t.onHide(),t.destroy()})}}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),a=n(5),s=n(0),u=function(t){function e(){var e=t.call(this,function(){e.hide()})||this;return e.duration=100,e.displayDuration=1e3,e.easeIn=null,e.easeOut=null,e.fromProps=null,e.toProps=null,e.width=s.default.getWidth(),e.height=s.default.getHeight(),e}return o(e,t),e.show=function(t,e){r.default.showToast(this,t,e)},e.hide=function(){r.default.hideToast(this)},e.prototype.hide=function(){r.default.hideToast(this.toast,this)},e}(a.default);e.default=u},function(t,e,n){"use strict";n(15);var i=n(8),o=n(0),r=n(1),a=n(19),s=n(23),u=n(29),c=n(34),l=n(4),h=n(11),d=n(12),f=n(35),p=n(6),_=n(13),g=n(36),w=n(40),y=n(47),v={init:g.init,init3D:g.init3D,start:g.start,exit:g.exit,showLoading:w.showLoading,hideLoading:w.hideLoading,showModal:w.showModal,showToast:w.showToast,hideToast:w.hideToast,bg:i.default,screen:o.default,platform:r.default,ad:a.default,app:s.default,rank:u.default,utils:c.default,navigator:l.default,popup:h.default,toast:d.default,Activity:f.default,PopupView:p.default,ToastView:_.default};"undefined"!=typeof window&&(window.Tape=v,window.runtime=y.default),t.exports={Tape:v,runtime:y.default}},function(t,e,n){"use strict";(0,n(16).polyfill)(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n},writable:!0,configurable:!0});var i={};i="undefined"!=typeof GameGlobal?GameGlobal:window||{setTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return setTimeout.apply(void 0,arguments)}),setInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return setInterval.apply(void 0,arguments)}),clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return clearTimeout.apply(void 0,arguments)}),clearInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return clearInterval.apply(void 0,arguments)})},"undefined"==typeof window&&(window=i,window.self=window,window.parent=window,window.window=window,window.global=window,window.GameGlobal=window),"undefined"==typeof wx?window.wx={isMock:!0}:window.wx=wx,"undefined"==typeof FBInstant?window.FBInstant={isMock:!0}:window.FBInstant=FBInstant},function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */var i;i=function(){"use strict";function t(t){return"function"==typeof t}var i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,r=void 0,a=void 0,s=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(_):b())};var u="undefined"!=typeof window?window:void 0,c=u||{},l=c.MutationObserver||c.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var t=setTimeout;return function(){return t(_,1)}}var p=new Array(1e3);function _(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var g,w,y,v,b=void 0;function A(t,e){var n=this,i=new this.constructor(O);void 0===i[V]&&W(i);var o=n._state;if(o){var r=arguments[o-1];s(function(){return E(o,i,r,n._result)})}else j(n,i,t,e);return i}function m(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(O);return x(e,t),e}h?b=function(){return e.nextTick(_)}:l?(w=0,y=new l(_),v=document.createTextNode(""),y.observe(v,{characterData:!0}),b=function(){v.data=w=++w%2}):d?((g=new MessageChannel).port1.onmessage=_,b=function(){return g.port2.postMessage(0)}):b=void 0===u?function(){try{var t=Function("return this")().require("vertx");return void 0!==(r=t.runOnLoop||t.runOnContext)?function(){r(_)}:f()}catch(t){return f()}}():f();var V=Math.random().toString(36).substring(2);function O(){}var S=void 0,L=1,B=2,k={error:null};function P(t){try{return t.then}catch(t){return k.error=t,k}}function C(e,n,i){n.constructor===e.constructor&&i===A&&n.constructor.resolve===m?function(t,e){e._state===L?D(t,e._result):e._state===B?T(t,e._result):j(e,void 0,function(e){return x(t,e)},function(e){return T(t,e)})}(e,n):i===k?(T(e,k.error),k.error=null):void 0===i?D(e,n):t(i)?function(t,e,n){s(function(t){var i=!1,o=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(n,e,function(n){i||(i=!0,e!==n?x(t,n):D(t,n))},function(e){i||(i=!0,T(t,e))},t._label);!i&&o&&(i=!0,T(t,o))},t)}(e,n,i):D(e,n)}function x(t,e){var n,i;t===e?T(t,new TypeError("You cannot resolve a promise with itself")):(i=typeof(n=e),null===n||"object"!==i&&"function"!==i?D(t,e):C(t,e,P(e)))}function M(t){t._onerror&&t._onerror(t._result),I(t)}function D(t,e){t._state===S&&(t._result=e,t._state=L,0!==t._subscribers.length&&s(I,t))}function T(t,e){t._state===S&&(t._state=B,t._result=e,s(M,t))}function j(t,e,n,i){var o=t._subscribers,r=o.length;t._onerror=null,o[r]=e,o[r+L]=n,o[r+B]=i,0===r&&t._state&&s(I,t)}function I(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,o=void 0,r=t._result,a=0;a<e.length;a+=3)i=e[a],o=e[a+n],i?E(n,i,o,r):o(r);t._subscribers.length=0}}function E(e,n,i,o){var r=t(i),a=void 0,s=void 0,u=void 0,c=void 0;if(r){if((a=function(t,e){try{return t(e)}catch(t){return k.error=t,k}}(i,o))===k?(c=!0,s=a.error,a.error=null):u=!0,n===a)return void T(n,new TypeError("A promises callback cannot return that same promise."))}else a=o,u=!0;n._state!==S||(r&&u?x(n,a):c?T(n,s):e===L?D(n,a):e===B&&T(n,a))}var R=0;function W(t){t[V]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var H=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(O),this.promise[V]||W(this.promise),i(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&D(this.promise,this._result))):T(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===S&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===m){var o=P(t);if(o===A&&t._state!==S)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===F){var r=new n(O);C(r,t,o),this._willSettleAt(r,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===S&&(this._remaining--,t===B?T(i,n):this._result[e]=n),0===this._remaining&&D(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;j(t,void 0,function(t){return n._settledAt(L,e,t)},function(t){return n._settledAt(B,e,t)})},t}();var F=function(){function t(e){this[V]=R++,this._result=this._state=void 0,this._subscribers=[],O!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){x(t,e)},function(e){T(t,e)})}catch(e){T(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return F.prototype.then=A,F.all=function(t){return new H(this,t).promise},F.race=function(t){var e=this;return i(t)?new e(function(n,i){for(var o=t.length,r=0;r<o;r++)e.resolve(t[r]).then(n,i)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},F.resolve=m,F.reject=function(t){var e=new this(O);return T(e,t),e},F._setScheduler=function(t){a=t},F._setAsap=function(t){s=t},F._asap=s,F.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=F},F.Promise=F,F},t.exports=i()}).call(this,n(17),n(18))},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,c=[],l=!1,h=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!l){var t=s(d);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function _(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(20),r=n(21),a=n(22);e.default=i.default.isFacebookApp()?r.fbAd:i.default.isWechatApp()?o.wxAd:a.browserAd},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(10),a=function(){function t(){this._rewardedAdId="",this._bannerAdId="",this._bannerAd=null,this._rewardedVideoAd=null,this._rewardedVideoCallback=null}return t.prototype.isSupportedRewardedVideoAd=function(){return!0},t.prototype.configRewardedVideoAd=function(t,e){t==i.WECHAT&&(this._rewardedAdId=e)},t.prototype.watchRewardedVideoAd=function(t,e,n){var o=this;this._rewardedVideoAd=i.default.execWX("createRewardedVideoAd",{adUnitId:this._rewardedAdId}),this._rewardedVideoAd?(this._rewardedVideoCallback&&this._rewardedVideoAd.offClose(this._rewardedVideoCallback),this._rewardedVideoCallback=function(n){n&&n.isEnded||void 0===n?t&&t():e&&e()},this._rewardedVideoAd.onClose(this._rewardedVideoCallback),this._rewardedVideoAd.show().catch(function(t){o._rewardedVideoAd.load().then(function(){return o._rewardedVideoAd.show()}).catch(function(t){n&&n(t.errMsg)})})):n&&n("createRewardedVideoAd:fail")},t.prototype.isSupportedBannerAd=function(){return!0},t.prototype.configBannerAd=function(t,e){t==i.WECHAT&&(this._bannerAdId=e)},t.prototype.showBannerAd=function(t,e,n,a,s){var u=this;try{this.hideBannerAd();var c=r.fixWidth(t+o.default.getOffestX()),l=r.fixHeight(e+o.default.getOffestY()),h=r.fixWidth(n),d=r.fixHeight(a);h<300&&(h=300),this._bannerAd=i.default.execWX("createBannerAd",{adUnitId:this._bannerAdId,style:{left:c,top:l,width:h,height:d}}),this._bannerAd?(this._bannerAd.style.left=c,this._bannerAd.style.top=l,this._bannerAd.style.width=h,this._bannerAd.style.height=d,this._bannerAd.onResize(function(t){if(u._bannerAd){var e,n=h/d,i=t.width/t.height,o=l,r=h,a=d;n<i?a=h/i:r=d*i,r<300&&(r=300),e=c+(h-r)/2,u._bannerAd.style.left=e,u._bannerAd.style.top=o,u._bannerAd.style.width=r,u._bannerAd.style.height=a}}),this._bannerAd.onError(function(t){s&&s(t&&t.errMsg||"showBannerAd:fail")}),this._bannerAd.show()):s&&s("createBannerAd:fail")}catch(t){s&&s("showBannerAd:fail")}},t.prototype.hideBannerAd=function(){try{this._bannerAd&&this._bannerAd.destroy&&this._bannerAd.destroy(),this._bannerAd=null}catch(t){}},t}();e.wxAd=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(){function t(){this._adId=""}return t.prototype.isSupportedRewardedVideoAd=function(){return!0},t.prototype.configRewardedVideoAd=function(t,e){t==i.FACEBOOK&&(this._adId=e)},t.prototype.watchRewardedVideoAd=function(t,e,n){var o=null;i.default.execFB("getRewardedVideoAsync",this._adId).then(function(t){return(o=t).loadAsync()}).catch(function(t){throw n&&n(t.message||"load rewarded video fail"),t}).then(function(){return o.showAsync().then(function(){t&&t()}).catch(function(t){n&&n(t.message||"show rewarded video fail")})})},t.prototype.isSupportedBannerAd=function(){return!1},t.prototype.configBannerAd=function(t,e){},t.prototype.showBannerAd=function(t,e,n,i,o){o&&o("not support banner ad")},t.prototype.hideBannerAd=function(){},t}();e.fbAd=new o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.isSupportedRewardedVideoAd=function(){return!1},t.prototype.configRewardedVideoAd=function(t,e){},t.prototype.watchRewardedVideoAd=function(t,e,n){n&&n("not support rewardedVideo ad")},t.prototype.isSupportedBannerAd=function(){return!1},t.prototype.configBannerAd=function(t,e){},t.prototype.showBannerAd=function(t,e,n,i,o){o&&o("not support banner ad")},t.prototype.hideBannerAd=function(){},t}();e.browserAd=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(24),r=n(25),a=n(26);e.default=i.default.isFacebookApp()?o.fbApp:i.default.isWechatApp()?r.wxApp:a.browserApp},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(){function t(){this._launchCallback=null,this._pauseCallback=null,i.default.isFacebookApp()&&this._init()}return t.prototype._init=function(){var t=this;i.default.execFB("onPause",function(){t._pauseCallback&&t._pauseCallback()}),i.default.execFB("player.canSubscribeBotAsync").then(function(t){t?(i.default.execFB("player.subscribeBotAsync"),i.default.printDebug("can subscribe bot")):i.default.printDebug("not can subscribe bot")})},t.prototype.getUserInfo=function(t){t&&t({platform:"facebook",playerId:i.default.execFB("player.getID"),nickname:i.default.execFB("player.getName"),avatarUrl:i.default.execFB("player.getPhoto"),city:"-",country:"-",province:"-",gender:0,language:i.default.execFB("getLocale"),raw:null})},t.prototype._checkOnLaunch=function(){var t=this;i.default.execFB("getEntryPointAsync").then(function(e){var n=i.default.execFB("getEntryPointData")||{};t._launchCallback&&t._launchCallback({scene:""+e,query:n,platform:"facebook"})})},t.prototype.onLaunch=function(t){this._launchCallback=t,this._checkOnLaunch()},t.prototype.onPause=function(t){this._pauseCallback=t},t.prototype.showGameClubButton=function(t,e,n,i,o){},t.prototype.hideGameClubButton=function(){},t.prototype.vibrateShort=function(){},t.prototype.vibrateLong=function(){},t}();e.fbApp=new o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(10),r=n(0),a=function(){function t(){this._pauseCallback=null,this._launchCallback=null,this._userinfoButton=null,this._clubButton=null,i.default.isWechatApp()&&this._init()}return t.prototype._init=function(){var t=this;i.default.execWX("onHide",function(){t._pauseCallback&&t._pauseCallback()}),i.default.execWX("onShow",function(e){t._launchCallback&&t._launchCallback({scene:""+(e.scene||""),query:e.query||{},platform:"wechat"})})},t.prototype.showGameClubButton=function(t,e,n,a,s){try{var u=o.fixWidth(e+r.default.getOffestX()),c=o.fixHeight(n+r.default.getOffestY()),l=o.fixWidth(a),h=o.fixHeight(s),d=["green","white","dark","light"];this.hideGameClubButton(),this._clubButton||(this._clubButton=i.default.execWX("createGameClubButton",{icon:d.indexOf(t)<0?d[0]:t,style:{left:u,top:c,width:l,height:h}}),this._clubButton&&d.indexOf(t)<0&&(this._clubButton.image=t)),this._clubButton&&(this._clubButton.style.left=u,this._clubButton.style.top=c,this._clubButton.style.width=l,this._clubButton.style.height=h,this._clubButton.show())}catch(t){}},t.prototype.hideGameClubButton=function(){try{this._clubButton&&(this._clubButton.style.left=-this._clubButton.style.width,this._clubButton.style.top=-this._clubButton.style.height,this._clubButton.hide(),this._clubButton.destroy(),this._clubButton=null)}catch(t){}},t.prototype.getUserInfo=function(t){var e=this,n=function(e){e&&e.userInfo?t&&t({platform:"wechat",playerId:"-",avatarUrl:e.userInfo.avatarUrl,nickname:e.userInfo.nickName,city:e.userInfo.city,country:e.userInfo.country,province:e.userInfo.province,gender:e.userInfo.gender,language:e.userInfo.language,raw:e}):t&&t(null)},o=function(){e._userinfoButton&&(e._userinfoButton.style.left=-e._userinfoButton.style.width,e._userinfoButton.style.top=-e._userinfoButton.style.height,e._userinfoButton.hide(),e._userinfoButton.destroy(),e._userinfoButton=null)};i.default.execWX("getUserInfo",{withCredentials:!0,success:n,fail:function(){var t=i.default.execWX("getSystemInfoSync");t?(o(),e._userinfoButton||(e._userinfoButton=i.default.execWX("createUserInfoButton",{withCredentials:!0,type:"image",image:"res/unpack/get_user_info.png",style:{left:0,top:0,width:t.windowWidth,height:t.windowHeight}})),e._userinfoButton&&(e._userinfoButton.onTap(function(t){t.errMsg.indexOf(":ok")>=0&&(o(),n(t))}),e._userinfoButton.show())):n(null)}})},t.prototype.onLaunch=function(t){this._launchCallback=t,this._checkOnLaunch()},t.prototype._checkOnLaunch=function(){var t=i.default.execWX("getLaunchOptionsSync")||{};this._launchCallback&&this._launchCallback({entry:t.scene||1e3,query:t.query||{},platform:"wechat"})},t.prototype.onPause=function(t){this._pauseCallback=t},t.prototype.vibrateShort=function(){i.default.execWX("vibrateShort")},t.prototype.vibrateLong=function(){i.default.execWX("vibrateLong")},t}();e.wxApp=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(27);function r(){for(var t={},e=window.location.search.substring(1).split("&"),n=0;n<e.length;n++){var i=e[n].split("=");i.length>1&&(t[i[0]]=decodeURIComponent(i[1]))}return t}var a=function(){function t(){this._pauseCallback=null,this._launchCallback=null,i.default.isBrowserApp()&&this._init()}return t.prototype._init=function(){var t=this;window.onblur=function(){t._pauseCallback&&t._pauseCallback()}},t.prototype.getUserInfo=function(t){var e=JSON.parse(r().user||"{}"),n=e.id||o.getStorageData("id","-"),a=e.nick||o.getStorageData("nick","-"),s=e.avatar||o.getStorageData("avatar","-"),u=e.gender||o.getStorageData("gender",0),c=e.language||o.getStorageData("language","-");o.setStorageData("id",n),o.setStorageData("nick",a),o.setStorageData("avatar",s),o.setStorageData("language",c),o.setStorageData("gender",u),t&&t({platform:i.BROWSER,playerId:n,nickname:a,avatarUrl:s,city:"-",country:"-",province:"-",gender:Number(u),language:c,raw:JSON.stringify(e)})},t.prototype.onLaunch=function(t){this._launchCallback=t,this._checkOnLaunch()},t.prototype._checkOnLaunch=function(){this._launchCallback&&this._launchCallback({scene:"",query:r(),platform:"browser"})},t.prototype.onPause=function(t){this._pauseCallback=t},t.prototype.showGameClubButton=function(t,e,n,i,o){},t.prototype.hideGameClubButton=function(){},t.prototype.vibrateShort=function(){},t.prototype.vibrateLong=function(){},t}();e.browserApp=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o={},r="tape_";function a(t){return function(e,n){var a=""+r+e;return!o.hasOwnProperty(a)&&t&&(o[a]=localStorage&&localStorage.getItem(a)||n),i.toAny(o[a],n)}}function s(t){return function(e,n){var a=""+r+e;o[a]=n,t&&localStorage&&localStorage.setItem(a,i.toStr(n))}}function u(t){return function(e){var n=""+r+e;delete o[n],t&&localStorage&&localStorage.removeItem(n)}}e.getStorageData=a(!0),e.getSessionData=a(!1),e.setStorageData=s(!0),e.setSessionData=s(!1),e.removeStorageData=u(!0),e.removeSessionData=u(!1)},function(t,e,n){"use strict";function i(t,e){if(void 0===t||null===t)return e;var n=function(t){if("string"!=typeof t)return typeof t;try{return typeof JSON.parse(t)}catch(n){var e=parseFloat(t);return isNaN(e)||""+e!==t?"string":"number"}}(t);switch(void 0!==e&&null!==e&&(n=typeof e),n){case"boolean":return function(t){return"true"===t||"1"===t}(t);case"number":return function(t){try{return JSON.parse(t)}catch(e){return parseFloat(t)}}(t);case"object":return function(t){try{return JSON.parse(t)}catch(t){return null}}(t);case"string":return function(t){try{var e=typeof t;return"string"===e?t:"boolean"===e?t?"true":"false":"number"===e?""+t:"object"===e?JSON.stringify(t):null}catch(t){return null}}(t)}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.toAny=i,e.toStr=function(t){return i(t,"")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(30),r=n(31),a=n(33);e.default=i.default.isFacebookApp()?r.fbRank:i.default.isWechatApp()?o.wxRank:a.browserRank},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),r=function(){function t(){this._rank_texture=null}return t.prototype.isSupportedRank=function(){return!0},t.prototype.createRankView=function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=o.default.getDesignWidth()),void 0===i&&(i=o.default.getDesignHeight());var r=new Laya.Sprite;if(window.hasOwnProperty("sharedCanvas")){var a=window.sharedCanvas;a.hasOwnProperty("_addReference")||(a._addReference=function(){}),this._rank_texture||(this._rank_texture=new Laya.Texture(a,null),this._rank_texture.bitmap.alwaysChange=!1)}if(this._rank_texture){var s=Laya.Texture.createFromTexture(this._rank_texture,t+o.default.getOffestX(),e+o.default.getOffestY(),n,i);s.bitmap.alwaysChange=!1,r.width=n,r.height=i,r.graphics.drawTexture(s,0,0,s.width,s.height)}return r},t.prototype.setRankKey=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=0),i.default.postMessageToWXOpenDataContext({action:"setRankKey",data:{key:t,count:e,offset:n}})},t.prototype.setRankScore=function(t,e,n){void 0===n&&(n=""),i.default.postMessageToWXOpenDataContext({action:"setRankScore",data:{key:t,score:e,extraData:n}})},t.prototype.showRank=function(t){i.default.postMessageToWXOpenDataContext({action:"showRank",data:{ui:t}})},t.prototype.hideRank=function(){i.default.postMessageToWXOpenDataContext({action:"hideRank",data:{}})},t}();e.wxRank=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(32),r=n(0),a=function(){function t(){this._rankKey=null,this._rankUi=null,this._rankViews=[],this._rankData={},this._canDraw=!0,this._count=100,this._offset=0,this._delayObj=null}return t.prototype._fetchRankData=function(t,e){var n=this,o=i.default.execFB("getLeaderboardAsync",t);o&&o.then&&o.then(function(t){return t.getConnectedPlayerEntriesAsync(n._count,n._offset)}).then(function(t){try{var n={playerId:i.default.execFB("player.getID"),nickname:i.default.execFB("player.getName"),avatarUrl:i.default.execFB("player.getPhoto")},o=-1,r={},a=null,s=[],u=t.map(function(t,e){var i={rank:t.getRank(),score:t.getScore(),timestamp:t.getTimestamp(),extraData:t.getExtraData(),playerId:t.getPlayer().getID(),nickname:t.getPlayer().getName(),avatarUrl:t.getPlayer().getPhoto()},s=i.playerId==n.playerId;return s&&(a=i,o=e,r={score:i.score,extraData:i.extraData}),Object.assign(i,{self:s}),i});s=o<=0?u.slice(0,3):u.slice(o-1,o+1),e&&e({selfInfo:n,selfData:r,rankList:u,rankSelf:a,rankThree:s})}catch(t){e&&e({})}})},t.prototype._drawRankView=function(){var t=this;if(this._rankUi){var e=[];this._rankViews.forEach(function(n,i){if(n._destroyed)e.unshift(i);else if(n.destroyChildren(),t._rankUi instanceof Array)t._rankUi.forEach(function(e){var i=Laya.View.createComp(e);i&&(o.bindView(i,t._rankData),n.addChild(i))});else{var r=Laya.View.createComp(t._rankUi);r&&(o.bindView(r,t._rankData),n.addChild(r))}}),e.forEach(function(e){t._rankViews.splice(e,1)})}},t.prototype._bindRankView=function(){var t=this;this._rankKey&&this._canDraw&&(this._canDraw=!1,this._fetchRankData(this._rankKey,function(e){t._rankData=e,t._canDraw=!0,t._rankViews.forEach(function(e){for(var n=0;n<e.numChildren;n++){var i=e.getChildAt(n);o.bindView(i,t._rankData)}})}))},t.prototype._delayBindRankView=function(){var t=this;this._delayObj||(this._delayObj=setTimeout(function(){t._delayObj=null,t._bindRankView()},200))},t.prototype.isSupportedRank=function(){return!0},t.prototype.createRankView=function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=r.default.getWidth()),void 0===i&&(i=r.default.getHeight());var o=new Laya.Sprite;return o.scrollRect=new Laya.Rectangle(t,e,n,i),this._rankViews.push(o),this._drawRankView(),this._delayBindRankView(),o},t.prototype.setRankKey=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=0),this._rankKey=t,this._count=e,this._offset=n,this._delayBindRankView()},t.prototype.setRankScore=function(t,e,n){var o=this,r=i.default.execFB("getLeaderboardAsync",t);r&&r.then&&r.then(function(t){return t.setScoreAsync(e,n)}).then(function(n){t==o._rankKey&&n.getScore()==e&&o._delayBindRankView()})},t.prototype.showRank=function(t){this._rankUi&&JSON.stringify(t)===JSON.stringify(this._rankUi)||(this._rankUi=t,this._drawRankView()),this._delayBindRankView()},t.prototype.hideRank=function(){this._rankUi=null,this._rankViews.forEach(function(t){t.destroyChildren()})},t}();e.fbRank=new a},function(t,e,n){"use strict";function i(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.bindView=function t(e,n){for(var o,r,a=i(n),s=function(){if((o=e.getChildAt(c)).name)if(r=function(t,e){var n=e.split("|"),o=n[0],r=i(t);t?t[o]?r=i(t[o]):o.split(".").forEach(function(t){r=null!==r&&void 0!==r&&null!==r[t]&&void 0!==r[t]?i(r[t]):null}):r=null;for(var a=[],s=1;s<n.length;s+=2){var u=n[s],c=n.length>s+1?n[s+1]:"";a.push({action:u,target:c})}var l=null;for(s=0;s<a.length;s++){var h=a[s];u=h.action,c=h.target,"default"===u&&(l=c),null!==r&&void 0!==r?"eq"===u&&c!==r.toString()||"neq"===u&&c===r.toString()||"gt"===u&&r<=c||"egt"===u&&r<c||"lt"===u&&r>=c||"elt"===u&&r>c||"like"===u&&r.toString().indexOf(c)<0?r=null:"sub"===u?r.toString().length>Number(c)&&(r=r.toString().substr(0,Number(c))+"..."):"append"===u&&(r=r.toString()+c):r=null}return null===r&&(r=l),r}(a,o.name))if(o.visible=!0,o instanceof Laya.List){var n=o;n.array=[],n.repeatX>1&&!n.hScrollBarSkin&&(n.hScrollBarSkin=null),n.repeatY>1&&!n.vScrollBarSkin&&(n.vScrollBarSkin=null),n.renderHandler=Laya.Handler.create(u,function(e,i){var o=n.array[i];"object"==typeof o&&Object.assign(o,{index:i}),t(e,o)},null,!1),n.array=r}else o instanceof Laya.FontClip?o.value=r:o instanceof Laya.Label?o.text=r:o instanceof Laya.Text?o.text=r:o instanceof Laya.Image?o.skin=r:o instanceof Laya.Box?t(o,r):o.value=r;else o.visible=!1},u=this,c=0;c<e.numChildren;c++)s()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=function(){function t(){}return t.prototype.isSupportedRank=function(){return!1},t.prototype.createRankView=function(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=i.default.getWidth()),void 0===o&&(o=i.default.getHeight());var r=new Laya.Sprite;return r.scrollRect=new Laya.Rectangle(t,e,n,o),r},t.prototype.setRankKey=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=0)},t.prototype.setRankScore=function(t,e,n){},t.prototype.showRank=function(t){},t.prototype.hideRank=function(){},t}();e.browserRank=new o},function(t,e,n){"use strict";function i(t){if(t.length>0)return t[Math.floor(Math.random()*t.length)]}function o(t){if("object"==typeof t)return t;try{return JSON.parse(t)}catch(e){return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default={randomUUID:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},randomInteger:function(t,e){switch(arguments.length){case 1:return Math.floor(Math.random()*t+1);case 2:return Math.floor(Math.random()*(e-t+1)+t);default:return 0}},randomNumber:function(t,e){switch(arguments.length){case 1:return Math.random()*t+1;case 2:return Math.random()*(e-t+1)+t;default:return 0}},randomArray:function(t,e){void 0===e&&(e=-1);var n=-1==e?t.length:e;n=Math.min(n,t.length);for(var o=t.concat([]),r=[];r.length<n;){var a=i(o);r.push(a),o.splice(o.indexOf(n),1)}return r},randomArrayItem:i,anyToArray:function(t){if(null===t||""===t||void 0===t)return[];var e=o(t);return"string"==typeof e?e.split(","):e instanceof Array?e:[e]},tryToObject:o}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),a=n(5),s=n(0),u=function(t){function e(e){var n=t.call(this,function(){n.back()})||this;return n.page=null,n.params={},n.duration=0,n.easeIn=null,n.easeOut=null,n.fromProps=null,n.toProps=null,n.width=s.default.getWidth(),n.height=s.default.getHeight(),n.params=Object.assign({},e.params||{}),n.page=e.page,n}return o(e,t),e.open=function(t,e){r.default.navigate(this,t,e)},e.finish=function(){r.default.finish(this)},e.prototype.redirectTo=function(t,e){var n=this;void 0===e&&(e={}),this.navigate(t,e,function(){n.back()})},e.prototype.navigate=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null),r.default.navigate(t,e,n)},e.prototype.back=function(){r.default.finish(this.page,this)},e.prototype.finish=function(t,e){void 0===t&&(t=this.page),void 0===e&&(e=null),r.default.finish(t,e)},e.prototype.pop=function(t){void 0===t&&(t=1),r.default.pop(t)},e.prototype.popToTop=function(){r.default.popToTop()},e.res=[],e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(37),r=n(38),a=n(39),s=n(0),u=n(3);function c(){return i.default.isFacebookApp()?r.fbInit:i.default.isWechatApp()?o.wxInit:a.browserInit}e.init=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];i.default.printDebug("init..."),i.default.printDebug("tape version: "+i.default.getVersion()),i.default.printDebug("app version: "+i.default.getAppVersion()),i.default.printDebug("platform: "+i.default.getPlatform()),i.default.isWechatApp()&&Laya.MiniAdpter.init(!0),s.initScreen.apply(void 0,[!1,t,e].concat(n))},e.init3D=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];i.default.printDebug("init3D..."),i.default.printDebug("tape version: "+i.default.getVersion()),i.default.printDebug("app version: "+i.default.getAppVersion()),i.default.printDebug("platform: "+i.default.getPlatform()),i.default.isWechatApp()&&Laya.MiniAdpter.init(!0),s.initScreen.apply(void 0,[!0,t,e].concat(n))},e.start=function(t,e){void 0===e&&(e=null),t||(t={});var n={mainPage:t.mainPage||null,commonRes:t.commonRes||[],fileVersion:t.fileVersion,onLoadProgress:function(e){c().onLoadProgress(e),t.onLoadProgress&&t.onLoadProgress(e)},onLoaded:function(){c().onLoaded(),e&&e(),t.onLoaded&&t.onLoaded()}};c().start(function(){u.initNavigator(n)})},e.exit=function(){c().exit()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),r=n(3),a=function(){function t(){}return t.prototype.start=function(t){if(window.hasOwnProperty("sharedCanvas")){var e=window.sharedCanvas;e.width=o.default.getWidth(),e.height=o.default.getHeight()}t&&t()},t.prototype.exit=function(){i.default.execWX("exitMiniProgram")},t.prototype.onLoaded=function(){r.setNavigatorReady(),i.default.postMessageToWXOpenDataContext({action:"initRank",data:{width:o.default.getWidth(),height:o.default.getHeight(),offsetX:o.default.getOffestX(),offsetY:o.default.getOffestY(),designWidth:o.default.getDesignWidth(),designHeight:o.default.getDesignHeight()}})},t.prototype.onLoadProgress=function(t){},t}();e.wxInit=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(3),r=!1,a=0;function s(){r||((a+=1)>99?a=99:setTimeout(s,50),i.default.execFB("setLoadingProgress",a))}var u=function(){function t(){}return t.prototype.start=function(t){s(),i.default.execFB("initializeAsync").then(function(){t&&t()})},t.prototype.exit=function(){i.default.execFB("quit")},t.prototype.onLoaded=function(){r=!0,i.default.execFB("setLoadingProgress",100),i.default.execFB("startGameAsync").then(function(){o.setNavigatorReady()})},t.prototype.onLoadProgress=function(t){},t}();e.fbInit=new u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=function(){function t(){}return t.prototype.start=function(t){t&&t()},t.prototype.exit=function(){},t.prototype.onLoaded=function(){i.setNavigatorReady()},t.prototype.onLoadProgress=function(t){},t}();e.browserInit=new o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(41),o=n(43),r=n(45);e.showLoading=function(t){r.default.showLoading(t)},e.hideLoading=function(){r.default.hideLoading()},e.showToast=function(t){i.default.showToast(t)},e.hideToast=function(){i.default.hideToast()},e.showModal=function(t){o.default.showModal(t)}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),a=n(42),s=function(t){function e(){var e=t.call(this)||this;return e.ui=new a.ToastContentView,e}return o(e,t),e.prototype.onShow=function(){this.duration=0,this.params.duration&&(this.displayDuration=this.params.duration),this.displayDuration>3e3&&(this.displayDuration=3e3),this.displayDuration<500&&(this.displayDuration=500),this.ui.setContent(this.params.title||"",this.params.image),this.params.success&&this.params.success(),this.params.complete&&this.params.complete()},e}(r.default);e.default={showToast:function(t){s.hide(),s.show(t,null)},hideToast:function(){s.hide()}}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(7),s=function(t){function e(){var e=t.call(this)||this;e._maxW=0,e._minW=0,e._iconSize=0,e._padding=0,e._fontSize=0,e._radius=0,e._imageView=null,e._titleView=null,e._bgView=null;var n=Math.min(r.default.getDesignWidth(),r.default.getDesignHeight());return e._maxW=.6*n,e._minW=.2*n,e._iconSize=.08*n,e._padding=.04*n,e._fontSize=.04*n,e._radius=.03*n,e._initBg(),e._initImage(),e._initTitle(),e}return o(e,t),e.prototype._initBg=function(){this._bgView=new a.BgView,this._bgView.name="bg",this._bgView.alpha=.6,this._bgView.color="#333333",this._bgView.radius=this._radius,this.addChild(this._bgView)},e.prototype._initTitle=function(){this._titleView=new Laya.Label,this._titleView.align=Laya.Stage.ALIGN_CENTER,this._titleView.valign=Laya.Stage.ALIGN_MIDDLE,this._titleView.wordWrap=!0,this._titleView.name="title",this._titleView.fontSize=this._fontSize,this._titleView.color="#ffffff",this._titleView.x=this._padding,this._titleView.y=this._padding,this.addChild(this._titleView)},e.prototype._initImage=function(){this._imageView=new Laya.Image,this.addChild(this._imageView)},e.prototype.setContent=function(t,e){var n=this;this._titleView.width=void 0,this._titleView.visible=!1,this._titleView.text=t,this._titleView.width>this._maxW?this._titleView.width=this._maxW:this._titleView.width<this._minW&&(this._titleView.width=this._minW);var i=function(){n._titleView.visible=!0,n._bgView.height=n._titleView.height+n._titleView.y+n._padding,n._bgView.width=n._titleView.width+2*n._padding,n._bgView.callDraw(),n._imageView.x=(n._bgView.width-n._imageView.width)/2,n.x=(r.default.getDesignWidth()-n._bgView.width)/2,n.y=(r.default.getDesignHeight()-n._bgView.height)/2};e?Laya.loader.load(e,Laya.Handler.create(this,function(t){t?(n._imageView.visible=!0,n._imageView.width=void 0,n._imageView.height=void 0,n._imageView.skin=e,n._imageView.width&&n._imageView.height&&(n._imageView.width>n._imageView.height?(n._imageView.width=n._iconSize*n._imageView.width/n._imageView.height,n._imageView.height=n._iconSize):(n._imageView.height=n._iconSize*n._imageView.height/n._imageView.width,n._imageView.width=n._iconSize)),n._imageView.y=n._padding,n._titleView.y=n._imageView.y+n._imageView.height+n._padding/2):n._imageView.visible=!1,i()})):(this._imageView.visible=!1,i())},e}(Laya.Sprite);e.ToastContentView=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),a=n(44),s=function(t){function e(){var e=t.call(this)||this;return e.ui=new a.ModalContentView,e}return o(e,t),e.prototype.onShow=function(){var t=this;this.alpha=.2,this.isTranslucent=!1,this.ui.setContent(this.params.title,this.params.content,this.params.showCancel,this.params.cancelText,this.params.cancelColor,this.params.confirmText,this.params.confirmColor,function(e){t.hide(),t.params.success&&t.params.success(e),t.params.complete&&t.params.complete(e)})},e}(r.default);e.default={showModal:function(t){s.show(t,null)}}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(7),s=function(t){function e(){var e=t.call(this)||this;e._maxW=0,e._padding=0,e._fontSize=0,e._radius=0,e._btnHeight=0,e._titleView=null,e._contentView=null,e._bgView=null,e._btnsView=null,e._cancelBtn=null,e._confirmBtn=null,e._lineView=null,e._line2View=null,e._callback=null;var n=Math.min(r.default.getDesignWidth(),r.default.getDesignHeight());return e._maxW=.6*n,e._padding=.04*n,e._fontSize=.04*n,e._radius=.01*n,e._btnHeight=.1*n,e._initBg(),e._initTitle(),e._initContent(),e._initButton(),e}return o(e,t),e.prototype._initBg=function(){this._bgView=new a.BgView,this._bgView.name="bg",this._bgView.color="#eeeeee",this._bgView.radius=this._radius,this.addChild(this._bgView)},e.prototype._initTitle=function(){this._titleView=new Laya.Label,this._titleView.align=Laya.Stage.ALIGN_CENTER,this._titleView.valign=Laya.Stage.ALIGN_MIDDLE,this._titleView.bold=!0,this._titleView.wordWrap=!0,this._titleView.name="title",this._titleView.fontSize=1.2*this._fontSize,this._titleView.color="#333333",this._titleView.x=this._padding,this._titleView.y=this._padding,this.addChild(this._titleView)},e.prototype._initContent=function(){this._contentView=new Laya.Label,this._contentView.align=Laya.Stage.ALIGN_CENTER,this._contentView.valign=Laya.Stage.ALIGN_MIDDLE,this._contentView.wordWrap=!0,this._contentView.name="content",this._contentView.fontSize=this._fontSize,this._contentView.color="#666666",this._contentView.x=this._padding,this._contentView.y=this._padding,this.addChild(this._contentView)},e.prototype._initButton=function(){var t=this;this._btnsView=new Laya.Label,this._lineView=new Laya.Label,this._lineView.bgColor="#666666",this._lineView.alpha=.3,this._lineView.height=this._btnHeight/100,this._line2View=new Laya.Label,this._line2View.bgColor="#666666",this._line2View.alpha=.3,this._line2View.height=this._btnHeight,this._line2View.width=this._btnHeight/100,this._btnsView.height=this._btnHeight,this._cancelBtn=new Laya.Label,this._cancelBtn.align=Laya.Stage.ALIGN_CENTER,this._cancelBtn.valign=Laya.Stage.ALIGN_MIDDLE,this._cancelBtn.height=this._btnHeight,this._cancelBtn.fontSize=this._fontSize,this._confirmBtn=new Laya.Label,this._confirmBtn.align=Laya.Stage.ALIGN_CENTER,this._confirmBtn.valign=Laya.Stage.ALIGN_MIDDLE,this._confirmBtn.height=this._btnHeight,this._confirmBtn.fontSize=this._fontSize,this._btnsView.addChild(this._lineView),this._btnsView.addChild(this._line2View),this._btnsView.addChild(this._cancelBtn),this._btnsView.addChild(this._confirmBtn),this._confirmBtn.on(Laya.Event.CLICK,this,function(){t._callback&&t._callback({confirm:!0,cancel:!1})}),this._cancelBtn.on(Laya.Event.CLICK,this,function(){t._callback&&t._callback({confirm:!1,cancel:!0})}),this.addChild(this._btnsView)},e.prototype.setContent=function(t,e,n,i,o,a,s,u){void 0===n&&(n=!0),void 0===i&&(i="取消"),void 0===o&&(o="#000000"),void 0===a&&(a="确定"),void 0===s&&(s="#3cc51f"),void 0===u&&(u=null),this._callback=u,this._cancelBtn.fontSize=this._fontSize,this._cancelBtn.text=i,this._cancelBtn.color=o,this._confirmBtn.fontSize=this._fontSize,this._confirmBtn.text=a,this._confirmBtn.color=s,this._titleView.width=this._maxW,this._contentView.width=this._maxW,t?(this._titleView.height=void 0,this._titleView.text=t):this._titleView.height=0,e?(this._contentView.height=void 0,this._contentView.text=e,this._contentView.y=this._titleView.y+this._titleView.height+this._padding/2):(this._contentView.height=0,this._contentView.y=this._titleView.y+this._titleView.height),this._btnsView.y=this._contentView.height+this._contentView.y+this._padding,this._bgView.height=this._btnsView.height+this._btnsView.y,this._bgView.width=this._titleView.width+2*this._padding,this._lineView.width=this._bgView.width,this._btnsView.width=this._bgView.width,n?(this._line2View.visible=!0,this._cancelBtn.visible=!0,this._line2View.x=this._btnsView.width/2,this._cancelBtn.width=this._btnsView.width/2,this._confirmBtn.x=this._btnsView.width/2,this._confirmBtn.width=this._btnsView.width/2):(this._line2View.visible=!1,this._cancelBtn.visible=!1,this._confirmBtn.x=0,this._confirmBtn.width=this._btnsView.width),this._bgView.callDraw(),this.x=(r.default.getDesignWidth()-this._bgView.width)/2,this.y=(r.default.getDesignHeight()-this._bgView.height)/2},e}(Laya.Sprite);e.ModalContentView=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),a=n(46),s=function(t){function e(){var e=t.call(this)||this;return e.ui=new a.LoadingContentView,e}return o(e,t),e.prototype.onShow=function(){this.alpha=.2,this.isTranslucent=!1,this.ui.setContent(this.params.title),this.params.success&&this.params.success(),this.params.complete&&this.params.complete()},e}(r.default);e.default={showLoading:function(t){s.hide(!1),s.show(t,null)},hideLoading:function(){s.hide(!1)}}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(7),s=function(t){function e(){var e=t.call(this)||this;return e._angle=0,e.skin="data:image/png;base64,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",e.timer.frameLoop(1,e,e.update),e}return o(e,t),e.prototype.setSize=function(t){this.width=t,this.height=t,this.pivot(t/2,t/2)},e.prototype.update=function(){this._angle+=3,this._angle>=360&&(this._angle=0),this.rotation=this._angle},e}(Laya.Image),u=function(t){function e(){var e=t.call(this)||this;e._maxW=0,e._minW=0,e._loadingSize=0,e._padding=0,e._fontSize=0,e._radius=0,e._loadingView=null,e._titleView=null,e._bgView=null;var n=Math.min(r.default.getDesignWidth(),r.default.getDesignHeight());return e._maxW=.6*n,e._minW=.2*n,e._loadingSize=.08*n,e._padding=.04*n,e._fontSize=.04*n,e._radius=.03*n,e._initBg(),e._initImage(),e._initTitle(),e}return o(e,t),e.prototype._initBg=function(){this._bgView=new a.BgView,this._bgView.name="bg",this._bgView.alpha=.6,this._bgView.color="#333333",this._bgView.radius=this._radius,this.addChild(this._bgView)},e.prototype._initTitle=function(){this._titleView=new Laya.Label,this._titleView.align=Laya.Stage.ALIGN_CENTER,this._titleView.valign=Laya.Stage.ALIGN_MIDDLE,this._titleView.wordWrap=!0,this._titleView.name="title",this._titleView.fontSize=this._fontSize,this._titleView.color="#ffffff",this._titleView.x=this._padding,this._titleView.y=this._padding,this.addChild(this._titleView)},e.prototype._initImage=function(){this._loadingView=new s,this._loadingView.setSize(this._loadingSize),this.addChild(this._loadingView)},e.prototype.setContent=function(t){this._loadingView.y=this._padding+this._loadingView.height/2,t?(this._titleView.width=void 0,this._titleView.visible=!0,this._titleView.text=t,this._titleView.width>this._maxW?this._titleView.width=this._maxW:this._titleView.width<this._minW&&(this._titleView.width=this._minW),this._titleView.y=this._loadingView.y+this._loadingView.height/2+this._padding/2,this._bgView.height=this._titleView.height+this._titleView.y+this._padding,this._bgView.width=this._titleView.width+2*this._padding):(this._titleView.visible=!1,this._bgView.height=this._loadingView.height+2*this._padding,this._bgView.width=this._loadingView.width+2*this._padding),this._bgView.callDraw(),this._loadingView.x=this._bgView.width/2,this.x=(r.default.getDesignWidth()-this._bgView.width)/2,this.y=(r.default.getDesignHeight()-this._bgView.height)/2},e}(Laya.Sprite);e.LoadingContentView=u},function(t,e,n){"use strict";var i,o,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),function(t){function e(e,n){!function(t){t.x=t.x+t.width/2-t.pivotX,t.y=t.y+t.height/2-t.pivotY,t.pivot(t.width/2,t.height/2)}(e),Laya.Tween.to(e,{scaleX:n,scaleY:n},t.scaleTime)}function n(n){n.offAll(),n.on(Laya.Event.MOUSE_DOWN,n,function(){return e(n,t.scaleSmalValue)}),n.on(Laya.Event.MOUSE_UP,n,function(){return e(n,t.scaleBigValue)}),n.on(Laya.Event.MOUSE_OUT,n,function(){return e(n,t.scaleBigValue)}),n.on(Laya.Event.CLICK,n,function(){var e;(e=n.sound)?Laya.SoundManager.playSound(e,1):t.clickSound&&Laya.SoundManager.playSound(t.clickSound,1)})}t.clickSound=null,t.scaleTime=100,t.scaleSmalValue=.8,t.scaleBigValue=1,t.bindClick=n;var i=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Button);t.btn=i;var o=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Image);t.btn_img=o;var a=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Label);t.btn_label=a;var s=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Sprite);t.btn_sprite=s;var u=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Box);t.btn_box=u}(o||(o={})),e.default=o}])});
//# sourceMappingURL=tape.js.map