!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(this,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(window.hasOwnProperty("wx")){for(var o=t.split("."),i=window.wx;o.length>1;)i=i[o.shift()];if(i&&1==o.length&&i.hasOwnProperty(o[0]))return i[o[0]].apply(i,e)}}var i="3.0.0",r="${app_version}";var a=!0;var u="${env}";function s(){return 0===u.indexOf("${")?"development":u}e.default={getAppVersion:function(){return 0===r.indexOf("${")?"1.0.0":r},getVersion:function(){return 0===i.indexOf("${")?"1.0.0":i},isConchApp:function(){return window.hasOwnProperty("conch")},execConch:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(window.hasOwnProperty("conch")){for(var o=t.split("."),i=window.conch;o.length>1;)i=i[o.shift()];if(i&&1==o.length&&i.hasOwnProperty(o[0]))return i[o[0]].apply(i,e)}},isFacebookApp:function(){return window.hasOwnProperty("FBInstant")},execFB:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(window.hasOwnProperty("FBInstant")){for(var o=t.split("."),i=window.FBInstant;o.length>1;)i=i[o.shift()];if(i&&1==o.length&&i.hasOwnProperty(o[0]))return i[o[0]].apply(i,e)}},isWechatApp:function(){return window.hasOwnProperty("wx")},execWX:o,postMessageToWXOpenDataContext:function(t){var e=o("getOpenDataContext");e&&e.postMessage&&e.postMessage(t)},setDebug:function(t){a=t},printDebug:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];a&&console.log.apply(console,["Tape:",t].concat(e))},getEnv:s,setEnv:function(t){u=t},isDev:function(){return"production"!==s()},isProd:function(){return"production"===s()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=0,r=0,a=0,u=0;e.initScreen=function(t,e,n){for(var s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];a=e,u=n;var f=Laya.Browser.clientHeight/laya.utils.Browser.clientWidth,l=n/e,d=e,p=n;i=0,r=0,Math.abs(f/l-1)>.1&&(f>l?r=((p=e*f)-n)/2:i=((d=n/f)-e)/2),t?Laya3D.init.apply(this,[d,p].concat(s)):Laya.init.apply(this,[d,p].concat(s)),o.initBg(),Laya.stage.x=i,Laya.stage.y=r,Laya.stage.scaleMode=Laya.Stage.SCALE_EXACTFIT,Laya.stage.alignH=Laya.Stage.ALIGN_CENTER,Laya.stage.alignV=Laya.Stage.ALIGN_MIDDLE},e.default={getOffestX:function(){return i},getOffestY:function(){return r},getDesignWidth:function(){return a},getDesignHeight:function(){return u}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=null,r=!1,a=!1,u=null,s=new Promise(function(t){u=t});function c(){var t=i.commonRes||[];t.length>0?Laya.loader.load(t,Laya.Handler.create(null,function(){f(),i.onLoaded&&i.onLoaded()}),Laya.Handler.create(this,function(t){i.onLoadProgress&&i.onLoadProgress(t)},null,!1)):(i.onLoadProgress&&i.onLoadProgress(100),i.onLoaded&&i.onLoaded(),f())}function f(){o.default.navigate(i.mainPage)}e.initNavigator=function(t){t&&!r&&((i=t)&&i.fileVersion?(Laya.ResourceVersion.type=Laya.ResourceVersion.FILENAME_VERSION,Laya.ResourceVersion.enable(i.fileVersion,Laya.Handler.create(null,function(){c()}))):c(),r=!0)},e.onNavigatorReady=function(){return a?Promise.resolve():s},e.setNavigatorReady=function(){a||(a=!0,u(),u=null,s=null)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(4),r=[],a=!1;function u(){return r.length}function s(t){void 0===t&&(t=0);var e=u();return e>t?r[e-1-t]:null}function c(t,e,n){void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=null);var o=s(t);o&&o.show(e&&u()>1,n)}function f(t){(t>=u()&&(t=u()-1),t<=0)||(r.splice(u()-t,t).forEach(function(t){t.hide(),t.exit()}),c(0))}e.setFocus=function(t){var e=s();e&&e.focus(t)},e.default={navigate:function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null),new o.default({page:t,params:e,onShow:function(){var t;t=function(){n&&n(!0)},c(0,!0,function(){var e=s(1);e&&(e.hide(),t&&t())})},onLoaded:function(t){var e;a=!1,i.default.addUI(t),e=t,r.push(e)},onLoadProgress:function(t,e){if(a){var n=s();n&&n.nextProgress(e)}}})},pop:function(t){void 0===t&&(t=1),f(t)},popToTop:function(){f(u())},finish:function(t,e){void 0===e&&(e=null);var n=[];r.forEach(function(o){o.canFinish(t,e)&&n.push(o)}),function(t){if(t&&!(t.length<=0)){for(var e=0;u()>1&&e<t.length;e++){var n=t[e];r.splice(r.indexOf(n),1),n.hide(),n.exit()}c(0)}}(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i,r=n(3),a=n(7),u=!1;function s(){if(!u){var t=new Laya.Sprite;(o=new Laya.Sprite).name="tape_main_ui_layer",i=new Laya.Sprite,o.name="tape_top_ui_layer",t.addChild(o),t.addChild(i),Laya.stage.addChild(t),u=!0}}function c(){if(o.numChildren>0&&o.getChildAt(o.numChildren-1)instanceof a.default)return void r.setFocus(!0);r.setFocus(!1)}e.default={checkFocus:c,addUI:function(t){s(),t&&o.addChild(t),c()},addTopUI:function(t){s(),t&&i.addChild(t),c()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="这么好玩的游戏，大家快来围观！",i="res/unpack/default_share_img.png",r=[];function a(t){if(t.length>0)return t[Math.floor(Math.random()*t.length)]}e.default={configShare:function(t,e,n){o=t,i=e,r=n||[]},getShareOptions:function(t){void 0===t&&(t=null);var e=r.filter(function(e){return t&&""!=t&&"default"!=t?t==e.tag:!(e.tag&&""!=e.tag&&"default"!=e.tag)}),n=a(e.length>0?e:r)||{};return{text:n.title||o,image:a(n.images||[])||i}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=null,r="#000000";e.initBg=function(){(i=Laya.stage.getChildByName("tape_background_layer"))||((i=new Laya.Sprite).name="tape_background_layer",Laya.stage.addChild(i)),i.x=-o.default.getOffestX(),i.y=-o.default.getOffestY(),i.width=Laya.stage.width,i.height=Laya.stage.height,i.graphics.clear(),i.graphics.drawRect(0,0,i.width,i.height,r)},e.default={getBgSprite:function(){return i},setBgColor:function(t){r=t,i&&(i.graphics.clear(),i.graphics.drawRect(0,0,i.width,i.height,t))},getBgColor:function(){return r}}},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),a=n(2),u=function(t){function e(e){var n=t.call(this)||this;n._options=null,n._activity=null,n._isShow=!1,n._isFocus=!1,n.visible=!1,n._options=e;var o=n._options.page.res;return o&&o.length>0?Laya.loader.load(o,Laya.Handler.create(n,function(){n._newActivity(),n._onLoaded()}),Laya.Handler.create(n,function(t){n._onLoadProgress(t)},null,!1)):(n._newActivity(),n._onLoaded()),n}return i(e,t),e.prototype._newActivity=function(){this._activity||(this._activity=new this._options.page({page:this._options.page,params:this._options.params}))},e.prototype._onLoaded=function(){var t=this;a.onNavigatorReady().then(function(){t._options.onLoaded&&t._options.onLoaded(t),t.addChild(t._activity),t._activity.onCreate&&t._activity.onCreate(),t._options.onShow&&t._options.onShow()})},e.prototype._onLoadProgress=function(t){this._options.onLoadProgress&&this._options.onLoadProgress(this,t)},e.prototype.nextProgress=function(t){this._activity.onNextProgress&&this._activity.onNextProgress(t)},e.prototype.canFinish=function(t,e){return t===this._options.page&&(!e||e===this._activity)},e.prototype.show=function(t,e){if(!this.visible&&!this._isShow){this._isShow=!0;var n=this._activity.easeIn||Laya.Ease.linearIn,o=this._activity.duration||0,i=this._activity.fromProps||{},a=this._activity.toProps||{};t&&n&&o>0?(Object.assign(this,i),this._activity.onResume&&this._activity.onResume(),this.visible=!0,Laya.Tween.to(this,a,o,n,Laya.Handler.create(this,function(){e&&e()}))):(this._activity.onResume&&this._activity.onResume(),this.visible=!0,e&&e()),r.default.checkFocus()}},e.prototype.hide=function(){this.visible&&this._isShow&&(this._isShow=!1,this._activity.onPause&&this._activity.onPause(),this.visible=!1,this.focus(!1))},e.prototype.exit=function(){this._activity.onDestroy&&this._activity.onDestroy(),this.destroy()},e.prototype.focus=function(t){this._isFocus!==t&&(this._isFocus=t,this._activity.onFocus&&this._activity.onFocus(t))},e}(Laya.Component);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i={};e.default={showPopup:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=i[t],a=new t;a.popup=t,a.params=e||{},a._onHide=n,r?r.push(a):i[t]=[a],o.default.addUI(a),function(t,e){var n=t.fromProps||{alpha:0},o=t.toProps||{alpha:1},i=t.easeIn||Laya.Ease.linearIn,r=t.duration||500;Object.assign(t,n),Laya.Tween.to(t,o,r,i,Laya.Handler.create(this,function(){e&&e(t)}))}(a,function(){a.onShow&&a.onShow()})},hidePopup:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=i[t];if(e){var a=r?r.indexOf(e):-1;if(a<0)return;r.splice(a,1),e._onHide&&e._onHide(e.popup,n),e.onHide&&e.onHide(e.popup,n),e.removeSelf&&e.removeSelf(),e.destroy&&e.destroy(),o.default.checkFocus()}else r&&r.splice(0,r.length).forEach(function(t){!function(t,e){var n=t.fromProps||{alpha:0},o=t.toProps||{alpha:1},i=t.easeOut||Laya.Ease.linearOut,r=t.duration||500;Object.assign(t,o),Laya.Tween.to(t,n,r,i,Laya.Handler.create(this,function(){e&&e(t)}))}(t,function(){t._onHide&&t._onHide(t.popup,n),t.onHide&&t.onHide(t.popup,n),t.removeSelf&&t.removeSelf(),t.destroy&&t.destroy(),o.default.checkFocus()})})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=[];e.default={showToast:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=new t;r._on_hide=n,r.toast=t,r.params=e||{};var a=r.fromProps||{alpha:0},u=r.toProps||{alpha:1},s=r.easeIn||Laya.Ease.linearIn,c=r.easeOut||Laya.Ease.linearOut,f=r.duration||500;Object.assign(r,a),r.onShow&&r.onShow(),Laya.Tween.to(r,u,f,s,null,0),Laya.Tween.to(r,a,f,c,Laya.Handler.create(this,function(){r&&(i.splice(i.indexOf(r),1),r._on_hide&&r._on_hide(r.toast),r.onHide&&r.onHide(),r.destroy())}),f),i.push(r),o.default.addTopUI(r)},hideAll:function(){i.splice(0,i.length).forEach(function(t){t._on_hide&&t._on_hide(t.toast),t.onHide&&t.onHide(),t.destroy()})}}},function(t,e,n){"use strict";n(11);var o=n(6),i=n(1),r=n(0),a=n(15),u=n(20),s=n(26),c=n(32),f=n(3),l=n(8),d=n(9),p=n(33),h=n(34),y=n(35),v=n(36),_={init:v.init,init3D:v.init3D,start:v.start,exit:v.exit,bg:o.default,screen:i.default,platform:r.default,ad:a.default,app:u.default,rank:s.default,navigator:f.default,popup:l.default,toast:d.default,Activity:p.default,PopupView:h.default,ToastView:y.default};"undefined"!=typeof window&&(window.Tape=_,window.runtime=c.default),t.exports={Tape:_,runtime:c.default}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(12).polyfill(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},writable:!0,configurable:!0})},function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */var o;o=function(){"use strict";function t(t){return"function"==typeof t}var o=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,r=void 0,a=void 0,u=function(t,e){h[i]=t,h[i+1]=e,2===(i+=2)&&(a?a(y):b())};var s="undefined"!=typeof window?window:void 0,c=s||{},f=c.MutationObserver||c.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(y,1)}}var h=new Array(1e3);function y(){for(var t=0;t<i;t+=2){(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0}i=0}var v,_,g,w,b=void 0;function m(t,e){var n=this,o=new this.constructor(k);void 0===o[O]&&E(o);var i=n._state;if(i){var r=arguments[i-1];u(function(){return D(i,o,r,n._result)})}else B(n,o,t,e);return o}function L(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(k);return j(e,t),e}l?b=function(){return e.nextTick(y)}:f?(_=0,g=new f(y),w=document.createTextNode(""),g.observe(w,{characterData:!0}),b=function(){w.data=_=++_%2}):d?((v=new MessageChannel).port1.onmessage=y,b=function(){return v.port2.postMessage(0)}):b=void 0===s?function(){try{var t=Function("return this")().require("vertx");return void 0!==(r=t.runOnLoop||t.runOnContext)?function(){r(y)}:p()}catch(t){return p()}}():p();var O=Math.random().toString(36).substring(2);function k(){}var P=void 0,x=1,A=2,S={error:null};function C(t){try{return t.then}catch(t){return S.error=t,S}}function R(e,n,o){n.constructor===e.constructor&&o===m&&n.constructor.resolve===L?function(t,e){e._state===x?V(t,e._result):e._state===A?M(t,e._result):B(e,void 0,function(e){return j(t,e)},function(e){return M(t,e)})}(e,n):o===S?(M(e,S.error),S.error=null):void 0===o?V(e,n):t(o)?function(t,e,n){u(function(t){var o=!1,i=function(t,e,n,o){try{t.call(e,n,o)}catch(t){return t}}(n,e,function(n){o||(o=!0,e!==n?j(t,n):V(t,n))},function(e){o||(o=!0,M(t,e))},t._label);!o&&i&&(o=!0,M(t,i))},t)}(e,n,o):V(e,n)}function j(t,e){var n,o;t===e?M(t,new TypeError("You cannot resolve a promise with itself")):(o=typeof(n=e),null===n||"object"!==o&&"function"!==o?V(t,e):R(t,e,C(e)))}function T(t){t._onerror&&t._onerror(t._result),I(t)}function V(t,e){t._state===P&&(t._result=e,t._state=x,0!==t._subscribers.length&&u(I,t))}function M(t,e){t._state===P&&(t._state=A,t._result=e,u(T,t))}function B(t,e,n,o){var i=t._subscribers,r=i.length;t._onerror=null,i[r]=e,i[r+x]=n,i[r+A]=o,0===r&&t._state&&u(I,t)}function I(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var o=void 0,i=void 0,r=t._result,a=0;a<e.length;a+=3)o=e[a],i=e[a+n],o?D(n,o,i,r):i(r);t._subscribers.length=0}}function D(e,n,o,i){var r=t(o),a=void 0,u=void 0,s=void 0,c=void 0;if(r){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(o,i))===S?(c=!0,u=a.error,a.error=null):s=!0,n===a)return void M(n,new TypeError("A promises callback cannot return that same promise."))}else a=i,s=!0;n._state!==P||(r&&s?j(n,a):c?M(n,u):e===x?V(n,a):e===A&&M(n,a))}var F=0;function E(t){t[O]=F++,t._state=void 0,t._result=void 0,t._subscribers=[]}var U=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(k),this.promise[O]||E(this.promise),o(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?V(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&V(this.promise,this._result))):M(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===P&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,o=n.resolve;if(o===L){var i=C(t);if(i===m&&t._state!==P)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===W){var r=new n(k);R(r,t,i),this._willSettleAt(r,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(o(t),e)},t.prototype._settledAt=function(t,e,n){var o=this.promise;o._state===P&&(this._remaining--,t===A?M(o,n):this._result[e]=n),0===this._remaining&&V(o,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;B(t,void 0,function(t){return n._settledAt(x,e,t)},function(t){return n._settledAt(A,e,t)})},t}();var W=function(){function t(e){this[O]=F++,this._result=this._state=void 0,this._subscribers=[],k!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){j(t,e)},function(e){M(t,e)})}catch(e){M(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return W.prototype.then=m,W.all=function(t){return new U(this,t).promise},W.race=function(t){var e=this;return o(t)?new e(function(n,o){for(var i=t.length,r=0;r<i;r++)e.resolve(t[r]).then(n,o)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},W.resolve=L,W.reject=function(t){var e=new this(k);return M(e,t),e},W._setScheduler=function(t){a=t},W._setAsap=function(t){u=t},W._asap=u,W.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var o=null;try{o=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===o&&!e.cast)return}t.Promise=W},W.Promise=W,W},t.exports=o()}).call(this,n(13),n(14))},function(t,e){var n,o,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var s,c=[],f=!1,l=-1;function d(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=u(d);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||f||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(16),r=n(17),a=n(18),u=n(19);e.default=o.default.isFacebookApp()?r.fbAd:o.default.isWechatApp()?i.wxAd:o.default.isConchApp()?a.conchAd:u.h5Ad},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(){this._adId="",this._rewardedVideoAd=null,this._rewardedVideoCallback=null}return t.prototype.isSupportedRewardedVideoAd=function(){return!0},t.prototype.configRewardedVideoAd=function(t,e){"wechat"==t&&(this._adId=e)},t.prototype.watchRewardedVideoAd=function(t,e,n){var i=this;this._rewardedVideoAd=o.default.execWX("createRewardedVideoAd",{adUnitId:this._adId}),this._rewardedVideoAd?(this._rewardedVideoCallback&&this._rewardedVideoAd.offClose(this._rewardedVideoCallback),this._rewardedVideoCallback=function(n){n&&n.isEnded||void 0===n?t&&t():e&&e()},this._rewardedVideoAd.onClose(this._rewardedVideoCallback),this._rewardedVideoAd.show().catch(function(t){i._rewardedVideoAd.load().then(function(){return i._rewardedVideoAd.show()}).catch(function(t){n&&n(t.errMsg)})})):n&&n("createRewardedVideoAd:fail")},t}();e.wxAd=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(){this._adId=""}return t.prototype.isSupportedRewardedVideoAd=function(){return!0},t.prototype.configRewardedVideoAd=function(t,e){"facebook"==t&&(this._adId=e)},t.prototype.watchRewardedVideoAd=function(t,e,n){var i=null;o.default.execFB("getRewardedVideoAsync",this._adId).then(function(t){return(i=t).loadAsync()}).catch(function(t){throw n&&n(t.message||"load rewarded video fail"),t}).then(function(){return i.showAsync().then(function(){t&&t()}).catch(function(t){n&&n(t.message||"show rewarded video fail")})})},t}();e.fbAd=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.isSupportedRewardedVideoAd=function(){return!1},t.prototype.configRewardedVideoAd=function(t,e){},t.prototype.watchRewardedVideoAd=function(t,e,n){n&&n("not support rewardedVideo ad")},t}();e.conchAd=new o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.isSupportedRewardedVideoAd=function(){return!1},t.prototype.configRewardedVideoAd=function(t,e){},t.prototype.watchRewardedVideoAd=function(t,e,n){n&&n("not support rewardedVideo ad")},t}();e.h5Ad=new o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(21),r=n(23),a=n(24),u=n(25);e.default=o.default.isFacebookApp()?i.fbApp:o.default.isWechatApp()?r.wxApp:o.default.isConchApp()?a.conchApp:u.h5App},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(5),r=n(22),a=function(){function t(){this._launchCallback=null,this._pauseCallback=null,o.default.isFacebookApp()&&this._init()}return t.prototype._init=function(){var t=this;o.default.execFB("onPause",function(){t._pauseCallback&&t._pauseCallback()}),o.default.execFB("player.canSubscribeBotAsync").then(function(t){t?(o.default.execFB("player.subscribeBotAsync"),o.default.printDebug("can subscribe bot")):o.default.printDebug("not can subscribe bot")})},t.prototype.shareAsync=function(t,e){var n=Object.assign({},i.default.getShareOptions(t)||{},e||{});return r.convertImgToBase64Async(n.image).then(function(t){return o.default.execFB("shareAsync",Object.assign({},n,{image:t,intent:"SHARE"}))})},t.prototype.configShare=function(t,e,n){i.default.configShare(t,e,n)},t.prototype.getUserInfo=function(t){t&&t({platform:"facebook",playerId:o.default.execFB("player.getID"),nickname:o.default.execFB("player.getName"),avatarUrl:o.default.execFB("player.getPhoto"),city:"-",country:"-",province:"-",gender:0,language:o.default.execFB("getLocale"),raw:null})},t.prototype._checkOnLaunch=function(){var t=this;o.default.execFB("getEntryPointAsync").then(function(e){var n=o.default.execFB("getEntryPointData")||{};t._launchCallback&&t._launchCallback({entry:e,query:n,platform:"facebook"})})},t.prototype.onLaunch=function(t){this._launchCallback=t,this._checkOnLaunch()},t.prototype.onPause=function(t){this._pauseCallback=t},t}();e.fbApp=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="";function i(t,e){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="blob",n.onload=function(){if(200==this.status){var t=new FileReader;t.onload=function(t){try{e&&e(t.target.result)}catch(t){e&&e(o)}},t.readAsDataURL(this.response)}else e&&e(o)},n.send()}e.convertImgToBase64Async=function(t){return new Promise(function(e,n){t?t.startsWith("base64")?e(t):i(t,function(t){t?e(t):n()}):n()})},e.convertImgToBase64=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(5),r=function(){function t(){this._pauseCallback=null,this._launchCallback=null,this._userButton=null,o.default.isWechatApp()&&this._init()}return t.prototype._init=function(){var t=this;o.default.execWX("onHide",function(){t._pauseCallback&&t._pauseCallback()}),o.default.execWX("onShow",function(e){t._launchCallback&&t._launchCallback({entry:e.scene||1e3,query:e.query||{},platform:"wechat"})}),o.default.execWX("showShareMenu",{withShareTicket:!0}),o.default.execWX("onShareAppMessage",function(){return i.default.getShareOptions()})},t.prototype.shareAsync=function(t,e){return new Promise(function(n,r){var a=Object.assign({},i.default.getShareOptions(t)||{},e),u="share_tag="+t,s=a.data?Object.keys(a.data):[];s.length>0&&(u+="&",u+=s.map(function(t){return t+"="+a.data[t]}).join("&")),o.default.execWX("shareAppMessage",{title:a.text,imageUrl:a.image,query:u,success:n,fail:r})})},t.prototype.configShare=function(t,e,n){i.default.configShare(t,e,n)},t.prototype.getUserInfo=function(t){var e=this,n=function(e){e&&e.userInfo?t&&t({platform:"wechat",playerId:"-",avatarUrl:e.userInfo.avatarUrl,nickname:e.userInfo.nickName,city:e.userInfo.city,country:e.userInfo.country,province:e.userInfo.province,gender:e.userInfo.gender,language:e.userInfo.language,raw:e}):t&&t(null)},i=function(){e._userButton&&(e._userButton.style.left=-e._userButton.style.width,e._userButton.style.top=-e._userButton.style.height,e._userButton.hide(),e._userButton.destroy(),e._userButton=null)};o.default.execWX("getUserInfo",{withCredentials:!0,success:n,fail:function(){var t=o.default.execWX("getSystemInfoSync");t?(i(),e._userButton||(e._userButton=o.default.execWX("createUserInfoButton",{withCredentials:!0,type:"image",image:"res/unpack/get_user_info.png",style:{left:0,top:0,width:t.windowWidth,height:t.windowHeight}})),e._userButton&&(e._userButton.onTap(function(t){t.errMsg.indexOf(":ok")>=0&&(i(),n(t))}),e._userButton.show())):n(null)}})},t.prototype.onLaunch=function(t){this._launchCallback=t,this._checkOnLaunch()},t.prototype._checkOnLaunch=function(){var t=o.default.execWX("getLaunchOptionsSync")||{};this._launchCallback&&this._launchCallback({entry:t.scene||1e3,query:t.query||{},platform:"wechat"})},t.prototype.onPause=function(t){this._pauseCallback=t},t}();e.wxApp=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(5),r=function(){function t(){o.default.isConchApp()}return t.prototype.shareAsync=function(t,e){return new Promise(function(n,o){var r=Object.assign({},i.default.getShareOptions(t)||{},e);Laya.conchMarket.enterShareAndFeed(JSON.stringify(r),n)})},t.prototype.configShare=function(t,e,n){i.default.configShare(t,e,n)},t.prototype.getUserInfo=function(t){Laya.conchMarket.getUserInfo("{}",function(e){t&&t(e)})},t.prototype.onLaunch=function(t){},t.prototype.onPause=function(t){},t}();e.conchApp=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.shareAsync=function(t,e){return Promise.reject()},t.prototype.configShare=function(t,e,n){},t.prototype.getUserInfo=function(t){t&&t(null)},t.prototype.onLaunch=function(t){},t.prototype.onPause=function(t){},t}();e.h5App=new o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(27),r=n(28),a=n(30),u=n(31);e.default=o.default.isFacebookApp()?r.fbRank:o.default.isWechatApp()?i.wxRank:o.default.isConchApp()?a.conchRank:u.h5Rank},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=function(){function t(){this._rank_texture=null}return t.prototype._createRankTexture=function(){if(window.hasOwnProperty("sharedCanvas")){var t=window.sharedCanvas;t.hasOwnProperty("_addReference")||(t._addReference=function(){}),this._rank_texture||(this._rank_texture=new Laya.Texture(t,null),this._rank_texture.bitmap.alwaysChange=!1)}return this._rank_texture},t.prototype.isSupportedRank=function(){return!0},t.prototype.createRankView=function(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=i.default.getDesignWidth()),void 0===o&&(o=i.default.getDesignHeight());var r=new Laya.Sprite,a=this._createRankTexture();if(a){var u=Laya.Texture.createFromTexture(a,t+i.default.getOffestX(),e+i.default.getOffestY(),n,o);u.bitmap.alwaysChange=!1,r.width=n,r.height=o,r.graphics.drawTexture(u,0,0,u.width,u.height)}return r},t.prototype.setRankKey=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=0),o.default.postMessageToWXOpenDataContext({action:"setRankKey",data:{key:t,count:e,offset:n}})},t.prototype.setRankScore=function(t,e,n){void 0===n&&(n=""),o.default.postMessageToWXOpenDataContext({action:"setRankScore",data:{key:t,score:e,extraData:n}})},t.prototype.showRank=function(t){o.default.postMessageToWXOpenDataContext({action:"showRank",data:{ui:t}})},t.prototype.hideRank=function(){o.default.postMessageToWXOpenDataContext({action:"hideRank",data:{}})},t}();e.wxRank=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(29),r=function(){function t(){this._rankKey=null,this._rankUi=null,this._rankViews=[],this._rankData={},this._canDraw=!0,this._count=100,this._offset=0,this._delayObj=null}return t.prototype._fetchRankData=function(t,e){var n=this,i=o.default.execFB("getLeaderboardAsync",t);i&&i.then&&i.then(function(t){return t.getConnectedPlayerEntriesAsync(n._count,n._offset)}).then(function(t){try{var n={playerId:o.default.execFB("player.getID"),nickname:o.default.execFB("player.getName"),avatarUrl:o.default.execFB("player.getPhoto")},i=-1,r={},a=null,u=[],s=t.map(function(t,e){var o={rank:t.getRank(),score:t.getScore(),timestamp:t.getTimestamp(),extraData:t.getExtraData(),playerId:t.getPlayer().getID(),nickname:t.getPlayer().getName(),avatarUrl:t.getPlayer().getPhoto()},u=o.playerId==n.playerId;return u&&(a=o,i=e,r={score:o.score,extraData:o.extraData}),Object.assign(o,{self:u}),o});u=i<=0?s.slice(0,3):s.slice(i-1,i+1),e&&e({selfInfo:n,selfData:r,rankList:s,rankSelf:a,rankThree:u})}catch(t){e&&e({})}})},t.prototype._drawRankView=function(){var t=this;if(this._rankUi){var e=[];this._rankViews.forEach(function(n,o){if(n._destroyed)e.unshift(o);else if(n.destroyChildren(),t._rankUi instanceof Array)t._rankUi.forEach(function(e){var o=Laya.View.createComp(e);o&&(i.bindView(o,t._rankData),n.addChild(o))});else{var r=Laya.View.createComp(t._rankUi);r&&(i.bindView(r,t._rankData),n.addChild(r))}}),e.forEach(function(e){t._rankViews.splice(e,1)})}},t.prototype._bindRankView=function(){var t=this;this._rankKey&&this._canDraw&&(this._canDraw=!1,this._fetchRankData(this._rankKey,function(e){t._rankData=e,t._canDraw=!0,t._rankViews.forEach(function(e){for(var n=0;n<e.numChildren;n++){var o=e.getChildAt(n);i.bindView(o,t._rankData)}})}))},t.prototype._delayBindRankView=function(){var t=this;this._delayObj||(this._delayObj=setTimeout(function(){t._delayObj=null,t._bindRankView()},200))},t.prototype.isSupportedRank=function(){return!0},t.prototype.createRankView=function(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=Laya.stage.width),void 0===o&&(o=Laya.stage.height);var i=new Laya.Sprite;return i.scrollRect=new Laya.Rectangle(t,e,n,o),this._rankViews.push(i),this._drawRankView(),this._delayBindRankView(),i},t.prototype.setRankKey=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=0),this._rankKey=t,this._count=e,this._offset=n,this._delayBindRankView()},t.prototype.setRankScore=function(t,e,n){var i=this,r=o.default.execFB("getLeaderboardAsync",t);r&&r.then&&r.then(function(t){return t.setScoreAsync(e,n)}).then(function(n){t==i._rankKey&&n.getScore()==e&&i._delayBindRankView()})},t.prototype.showRank=function(t){this._rankUi&&JSON.stringify(t)===JSON.stringify(this._rankUi)||(this._rankUi=t,this._drawRankView()),this._delayBindRankView()},t.prototype.hideRank=function(){this._rankUi=null,this._rankViews.forEach(function(t){t.destroyChildren()})},t}();e.fbRank=new r},function(t,e,n){"use strict";function o(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.bindView=function t(e,n){for(var i,r,a=o(n),u=function(){if((i=e.getChildAt(c)).name)if(r=function(t,e){var n=e.split("|"),i=n[0],r=o(t);t?t[i]?r=o(t[i]):i.split(".").forEach(function(t){r=null!==r&&void 0!==r&&null!==r[t]&&void 0!==r[t]?o(r[t]):null}):r=null;for(var a=[],u=1;u<n.length;u+=2){var s=n[u],c=n.length>u+1?n[u+1]:"";a.push({action:s,target:c})}var f=null;for(u=0;u<a.length;u++){var l=a[u];s=l.action,c=l.target,"default"===s&&(f=c),null!==r&&void 0!==r?"eq"===s&&c!==r.toString()||"neq"===s&&c===r.toString()||"gt"===s&&r<=c||"egt"===s&&r<c||"lt"===s&&r>=c||"elt"===s&&r>c||"like"===s&&r.toString().indexOf(c)<0?r=null:"sub"===s?r.toString().length>Number(c)&&(r=r.toString().substr(0,Number(c))+"..."):"append"===s&&(r=r.toString()+c):r=null}return null===r&&(r=f),r}(a,i.name))if(i.visible=!0,i instanceof Laya.List){var n=i;n.array=[],n.repeatX>1&&!n.hScrollBarSkin&&(n.hScrollBarSkin=null),n.repeatY>1&&!n.vScrollBarSkin&&(n.vScrollBarSkin=null),n.renderHandler=Laya.Handler.create(s,function(e,o){var i=n.array[o];"object"==typeof i&&Object.assign(i,{index:o}),t(e,i)},null,!1),n.array=r}else i instanceof Laya.FontClip?i.value=r:i instanceof Laya.Label?i.text=r:i instanceof Laya.Text?i.text=r:i instanceof Laya.Image?i.skin=r:i instanceof Laya.Box?t(i,r):i.value=r;else i.visible=!1},s=this,c=0;c<e.numChildren;c++)u()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.isSupportedRank=function(){return!1},t.prototype.createRankView=function(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=Laya.stage.width),void 0===o&&(o=Laya.stage.height);var i=new Laya.Sprite;return i.scrollRect=new Laya.Rectangle(t,e,n,o),i},t.prototype.setRankKey=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=0)},t.prototype.setRankScore=function(t,e,n){},t.prototype.showRank=function(t){},t.prototype.hideRank=function(){},t}();e.conchRank=new o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.isSupportedRank=function(){return!1},t.prototype.createRankView=function(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=Laya.stage.width),void 0===o&&(o=Laya.stage.height);var i=new Laya.Sprite;return i.scrollRect=new Laya.Rectangle(t,e,n,o),i},t.prototype.setRankKey=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=0)},t.prototype.setRankScore=function(t,e,n){},t.prototype.showRank=function(t){},t.prototype.hideRank=function(){},t}();e.h5Rank=new o},function(t,e,n){"use strict";var o,i,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),function(t){function e(e,n){!function(t){t.x=t.x+t.width/2-t.pivotX,t.y=t.y+t.height/2-t.pivotY,t.pivot(t.width/2,t.height/2)}(e),Laya.Tween.to(e,{scaleX:n,scaleY:n},t.scaleTime)}function n(n){n.offAll(),n.on(Laya.Event.MOUSE_DOWN,n,function(){return e(n,t.scaleSmalValue)}),n.on(Laya.Event.MOUSE_UP,n,function(){return e(n,t.scaleBigValue)}),n.on(Laya.Event.MOUSE_OUT,n,function(){return e(n,t.scaleBigValue)}),n.on(Laya.Event.CLICK,n,function(){var e;(e=n.sound)?Laya.SoundManager.playSound(e,1):t.clickSound&&Laya.SoundManager.playSound(t.clickSound,1)})}t.clickSound=null,t.scaleTime=100,t.scaleSmalValue=.8,t.scaleBigValue=1,t.bindClick=n;var o=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Button);t.btn=o;var i=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Image);t.btn_img=i;var a=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Label);t.btn_label=a;var u=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Sprite);t.btn_sprite=u;var s=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Box);t.btn_box=s}(i||(i={})),e.default=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),a=function(t){function e(e){var n=t.call(this)||this;return n.page=null,n.params={},n.duration=0,n.easeIn=null,n.easeOut=null,n.fromProps=null,n.toProps=null,n.width=Laya.stage.width,n.height=Laya.stage.height,n.params=Object.assign({},e.params||{}),n.page=e.page,n}return i(e,t),e.open=function(t,e){r.default.navigate(this,t,e)},e.finish=function(){r.default.finish(this)},Object.defineProperty(e.prototype,"ui",{get:function(){return this.getChildByName("_contentView")},set:function(t){t.name="_contentView",this.removeChildren(),this.addChild(t)},enumerable:!0,configurable:!0}),e.prototype.redirectTo=function(t,e){var n=this;void 0===e&&(e={}),this.navigate(t,e,function(){n.back()})},e.prototype.navigate=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null),r.default.navigate(t,e,n)},e.prototype.back=function(){r.default.finish(this.page,this)},e.prototype.finish=function(t,e){void 0===e&&(e=null),r.default.finish(t,e)},e.prototype.pop=function(t){void 0===t&&(t=1),r.default.pop(t)},e.prototype.popToTop=function(){r.default.popToTop()},e.res=[],e}(Laya.Component);e.default=a},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),a=n(1),u=function(t){function e(){var e=t.call(this)||this;return e.duration=500,e.easeIn=null,e.easeOut=null,e.fromProps=null,e.toProps=null,e.bgAlpha=.5,e.bgColor="#000000",e.isTranslucent=!1,e.canceledOnTouchOutside=!1,e.width=Laya.stage.width,e.height=Laya.stage.height,setTimeout(function(){return e.initBackground()},0),e}return i(e,t),e.show=function(t,e){r.default.showPopup(this,t,e)},e.hide=function(t){r.default.hidePopup(this,null,t)},Object.defineProperty(e.prototype,"ui",{get:function(){return this.getChildByName("_contentView")},set:function(t){this.removeChildren(),t.name="_contentView",this.addChild(t)},enumerable:!0,configurable:!0}),e.prototype.initBackground=function(){var t=this;if(!this.isTranslucent){var e=new Laya.Sprite;e.alpha=this.bgAlpha,e.graphics.clear(),e.graphics.drawRect(0,0,Laya.stage.width,Laya.stage.height,this.bgColor),e.x=-a.default.getOffestX(),e.y=-a.default.getOffestY(),e.width=Laya.stage.width,e.height=Laya.stage.height,e.on(Laya.Event.CLICK,this,function(e){t.canceledOnTouchOutside&&t.finish(),e.stopPropagation()}),this.canceledOnTouchOutside&&this.ui&&(this.ui.mouseThrough=!0),this.addChildAt(e,0)}},e.prototype.finish=function(t){void 0===t&&(t=null),r.default.hidePopup(this.popup,this,t)},e}(Laya.Sprite);e.default=u},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),a=function(t){function e(){var e=t.call(this)||this;return e.duration=500,e.easeIn=null,e.easeOut=null,e.fromProps=null,e.toProps=null,e.width=Laya.stage.width,e.height=Laya.stage.height,e}return i(e,t),e.show=function(t,e){r.default.showToast(this,t,e)},Object.defineProperty(e.prototype,"ui",{get:function(){return this.getChildByName("_contentView")},set:function(t){this.removeChildren(),t.name="_contentView",this.addChild(t)},enumerable:!0,configurable:!0}),e}(Laya.Sprite);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(37),r=n(38),a=n(39),u=n(40),s=n(1),c=n(2);function f(){return o.default.isFacebookApp()?r.fbInit:o.default.isWechatApp()?i.wxInit:o.default.isConchApp()?a.conchInit:u.h5Init}e.init=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];o.default.printDebug("init..."),o.default.printDebug("tape version:"+o.default.getVersion()),o.default.printDebug("app version:"+o.default.getAppVersion()),o.default.isWechatApp()&&Laya.MiniAdpter.init(!0),s.initScreen.apply(void 0,[!1,t,e].concat(n))},e.init3D=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];o.default.printDebug("init3D..."),o.default.printDebug("tape version:"+o.default.getVersion()),o.default.printDebug("app version:"+o.default.getAppVersion()),o.default.isWechatApp()&&Laya.MiniAdpter.init(!0),s.initScreen.apply(void 0,[!0,t,e].concat(n))},e.start=function(t){var e={mainPage:t.mainPage,commonRes:t.commonRes,fileVersion:t.fileVersion,onLoadProgress:function(e){f().onLoadProgress(e),t.onLoaded&&t.onLoadProgress(e)},onLoaded:function(){f().onLoaded(),t.onLoaded&&t.onLoaded()}};f().start(function(){c.initNavigator(e)})},e.exit=function(){f().exit()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=n(2),a=function(){function t(){}return t.prototype.start=function(t){if(window.hasOwnProperty("sharedCanvas")){var e=window.sharedCanvas;e.width=Laya.stage.width,e.height=Laya.stage.height}t&&t()},t.prototype.exit=function(){o.default.execWX("exitMiniProgram")},t.prototype.onLoaded=function(){r.setNavigatorReady(),o.default.postMessageToWXOpenDataContext({action:"initRank",data:{width:Laya.stage.width,height:Laya.stage.height,offsetX:i.default.getOffestX(),offsetY:i.default.getOffestY(),designWidth:i.default.getDesignWidth(),designHeight:i.default.getDesignHeight()}})},t.prototype.onLoadProgress=function(t){},t}();e.wxInit=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(2),r=!1,a=0;function u(){r||((a+=1)>99?a=99:setTimeout(u,50),o.default.execFB("setLoadingProgress",a))}var s=function(){function t(){}return t.prototype.start=function(t){u(),o.default.execFB("initializeAsync").then(function(){t&&t()})},t.prototype.exit=function(){o.default.execFB("quit")},t.prototype.onLoaded=function(){r=!0,o.default.execFB("setLoadingProgress",100),o.default.execFB("startGameAsync").then(function(){i.setNavigatorReady()})},t.prototype.onLoadProgress=function(t){},t}();e.fbInit=new s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(2),r=function(){function t(){}return t.prototype.start=function(t){t&&t()},t.prototype.exit=function(){o.default.execConch("exit")},t.prototype.onLoaded=function(){i.setNavigatorReady()},t.prototype.onLoadProgress=function(t){},t}();e.conchInit=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=function(){function t(){}return t.prototype.start=function(t){t&&t()},t.prototype.exit=function(){},t.prototype.onLoaded=function(){o.setNavigatorReady()},t.prototype.onLoadProgress=function(t){},t}();e.h5Init=new i}])});
//# sourceMappingURL=tape.js.map