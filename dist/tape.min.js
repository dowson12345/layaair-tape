!function(t){var n=function(){function t(){}return t.configEnv=function(t){this.__default_env__=t},t.getEnv=function(){return 0<=this.__default_env__.indexOf("${")?"development":this.__default_env__},t.isDebug=function(){return"production"!==this.getEnv()},t.__default_env__="${env}",t}();t.Build=n;var o=function(){function t(){this.__callback__=null,this.__start_date__=null,this.__offset__=0}return t.prototype.start=function(t,n,o){void 0===o&&(o=0),this.__callback__=n,this.__start_date__=new Date,this.__offset__=o,Laya.timer.loop(t,this,this.loop)},t.prototype.loop=function(){var t=new Date;this.__callback__&&this.__callback__(t.getTime()-this.__start_date__.getTime()+this.__offset__)},t.prototype.stop=function(){Laya.timer.clear(this,this.loop)},t}();t.FrameInterval=o;var e=function(){function t(){this.__interval__=0,this.__start_date__=null,this.__offset__=0}return t.prototype.start=function(t,n,o){var e=this;void 0===o&&(o=0),this.__start_date__=new Date,this.__offset__=o,this.__interval__=setInterval(function(){var t=new Date;n&&n(t.getTime()-e.__start_date__.getTime()+e.__offset__)},t)},t.prototype.stop=function(){clearInterval(this.__interval__)},t}();t.TimerInterval=e;var i=function(){function t(){}return t.post=function(t,n){if(t&&this.__event_group__.hasOwnProperty(t)){var o=this.__event_group__[t];0<o.length&&o.forEach(function(t){t&&t(n)})}},t.register=function(t,n){t&&n&&(this.__event_group__.hasOwnProperty(t)||(this.__event_group__[t]=new Array),this.__event_group__[t].push(n))},t.unregister=function(t,n){if(t&&n&&this.__event_group__.hasOwnProperty(t)){var o=this.__event_group__[t];o.splice(o.indexOf(n),1)}},t.__event_group__={},t}();t.EventBus=i;var _=function(){function t(){}return t.rangedValue=function(t,n,o){return t<n?n:o<t?o:t},t.rand=function(t,n){return Math.floor(Math.random()*(n-t))+t},t}();t.NumUtil=_;var r=function(){function t(){}return t.openURL=function(t){window.location.href=t},t}();t.LinkUtil=r;var s=function(){function t(){}return t._s4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t.randUUID=function(){return this._s4()+this._s4()+"-"+this._s4()+"-"+this._s4()+"-"+this._s4()+"-"+this._s4()+this._s4()+this._s4()},t}();t.UUID=s;var a=function(){function t(){}return t.setDebug=function(t){this.__is_debug__=t},t.isDebug=function(){return this.__is_debug__},t.log=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.isDebug()&&console.log.apply(console,[t].concat(n))},t.error=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.isDebug()&&console.error.apply(console,[t].concat(n))},t.info=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.isDebug()&&console.info.apply(console,[t].concat(n))},t.warn=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.isDebug()&&console.warn.apply(console,[t].concat(n))},t.debug=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.isDebug()&&console.debug.apply(console,[t].concat(n))},t.__is_debug__=n.isDebug(),t}();t.Logger=a;var c=function(){function t(t){var o=this;this.__state__="pending",this.__value__=null,this.__callbacks__=[];var e=function(t){o.__state__="rejected",o.__value__=t,o._execute()},i=function(t){if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n){try{n.call(t,i,e)}catch(t){e(t)}return}}o.__state__="fulfilled",o.__value__=t,o._execute()};try{t(i,e)}catch(t){e(t)}}return t.prototype.then=function(o,e){var i=this;return void 0===e&&(e=null),new t(function(t,n){i._handle({onFulfilled:o||null,onRejected:e||null,resolve:t,reject:n})})},t.prototype.catch=function(o){var e=this;return new t(function(t,n){e._handle({onFulfilled:null,onRejected:o||null,resolve:t,reject:n})})},t.prototype._handle=function(n){if("pending"!==this.__state__){var t="fulfilled"===this.__state__?n.onFulfilled:n.onRejected;if(null!==t)try{var o=t(this.__value__);n.resolve(o)}catch(t){n.reject(t)}else(t="fulfilled"===this.__state__?n.resolve:n.reject)(this.__value__)}else this.__callbacks__.push(n)},t.prototype._execute=function(){var n=this;setTimeout(function(){n.__callbacks__.forEach(function(t){n._handle(t)})},0)},t}();t.Task=c}(Tape||(Tape={}));var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(i){var t=function(){function t(){}return t.instance=function(){return this.__dialog_manager_instance__||(this.__dialog_manager_instance__=new Laya.DialogManager),this.__dialog_manager_instance__},t.showDialog=function(t,n,o){void 0===n&&(n=null),void 0===o&&(o=null),this.closeDialog(),t.onClosed=function(t){o&&o(t)},t.onOpened=function(){n&&n()},this.instance().open(new ui.DialogViewUI,!0,!0)},t.closeDialog=function(){this.instance().closeAll()},t.showLockView=function(t){this.instance().setLockView(t),this.instance().lock(!0)},t.closeLockView=function(){this.instance().lock(!1)},t.__dialog_manager_instance__=null,t}();i.Dialog=t;var n=function(){function t(){}return t.showToast=function(t,n,o){if(void 0===n&&(n=500),void 0===o&&(o=null),t&&!t.parent){var e=t.name||"_default_toast";this.__toast_group__.hasOwnProperty(e)||(this.__toast_group__[e]=new Array);var i=this.__toast_group__[e];for(var _ in t.alpha=0,t.zOrder=99999,Laya.Tween.to(t,{alpha:1},n,Laya.Ease.quintOut,null,0),Laya.Tween.to(t,{alpha:0},n,Laya.Ease.quintOut,Laya.Handler.create(this,function(){i.splice(i.indexOf(t),1),t.removeSelf()}),n),Laya.stage.addChild(t),i)i[_]&&(o?o(i[_]):i[_].visible=!1);i.push(t)}},t.__toast_group__={},t}();i.Toast=n;var o=function(o){function t(t){void 0===t&&(t={});var n=o.call(this)||this;return n.props={},n.props=Object.assign({},t),n}return __extends(t,o),t}(Laya.Component),e=function(o){function t(t){void 0===t&&(t={});var n=o.call(this,t)||this;return n.routeName="",n.routeKey="",n.params={},n.params=Object.assign({},t.params),n.routeName=t.routeName||"",n.routeKey=t.routeKey||"",n}return __extends(t,o),t.ROUTE=function(t){return void 0===t&&(t={}),Object.assign({},t,{activity:this})},t.prototype.onCreate=function(){},t.prototype.onResume=function(){},t.prototype.onPause=function(){},t.prototype.onDestroy=function(){},t.prototype.onNextProgress=function(t){},t.prototype.navigate=function(t,n,o){return void 0===n&&(n={}),void 0===o&&(o=null),!!this.props.hasOwnProperty("navigation")&&this.props.navigation.navigate(t,n,o)},t.prototype.deeplink=function(t,n){return void 0===n&&(n=null),!!this.props.hasOwnProperty("navigation")&&this.props.navigation.deeplink(t,n)},t.prototype.back=function(){this.props.hasOwnProperty("navigation")&&this.props.navigation.finish(this.routeName,this.routeKey)},t.prototype.finish=function(t){this.props.hasOwnProperty("navigation")&&this.props.navigation.finish(t)},t.prototype.pop=function(t){this.props.hasOwnProperty("navigation")&&this.props.navigation.pop(t)},t.prototype.popToTop=function(){this.props.hasOwnProperty("navigation")&&this.props.navigation.popToTop()},t.prototype.printLog=function(t){for(var n,o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];(n=i.Logger).log.apply(n,[" ------ "+this.routeName+" ------ :",t].concat(o))},t.prototype.printError=function(t){for(var n,o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];(n=i.Logger).error.apply(n,[" ------ "+this.routeName+" ------ :",t].concat(o))},t.prototype.printInfo=function(t){for(var n,o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];(n=i.Logger).info.apply(n,[" ------ "+this.routeName+" ------ :",t].concat(o))},t.prototype.printWarn=function(t){for(var n,o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];(n=i.Logger).warn.apply(n,[" ------ "+this.routeName+"  ------ :",t].concat(o))},t.prototype.printDebug=function(t){for(var n,o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];(n=i.Logger).debug.apply(n,[" ------ "+this.routeName+" ------ :",t].concat(o))},t}(i.PropsComponent=o);i.Activity=e}(Tape||(Tape={}));var Tape;__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(c){var u=function(c){function t(n,t,o,e,i,_,r){void 0===e&&(e={}),void 0===i&&(i=[]),void 0===_&&(_=null),void 0===r&&(r=null);var s=c.call(this)||this;if(s.routeName="",s.routeKey="",s.routeActivity=null,s.routeName=t,s.routeKey=o,null!=i&&0<i.length)Laya.loader.load(i,Laya.Handler.create(s,function(){var t=new n(e);s.create(t),_&&_(s)}),Laya.Handler.create(s,function(t){r&&r(s,t)},null,!1));else{var a=new n(e);s.create(a),_&&_(s)}return s}return __extends(t,c),t.prototype.create=function(t){this.routeActivity=t,this.addChild(this.routeActivity),this.routeActivity.onCreate()},t.prototype.nextProgress=function(t){this.routeActivity.onNextProgress(t)},t.prototype.exit=function(){this.removeSelf(),this.routeActivity.onDestroy()},t.prototype.show=function(){this.visible=!0,this.routeActivity.onResume()},t.prototype.hide=function(){this.visible=!1,this.routeActivity.onPause()},t}(c.PropsComponent),e=function(){function t(t){this.__navigator__=null,this.__init_name__="",this.__routes__={},this.__static_res__=[],this.__stacks__=[],this.__loaded_handler__=null,this.__load_progress_handler__=null,this.__uri_prefix__="://",this.__file_version__=null,this.__loading__=!1,this.__navigator__=t,this.__loaded_handler__=t.props.navigation.onLoaded,this.__load_progress_handler__=t.props.navigation.onLoadProgress,this.__routes__=t.props.navigation.routes,this.__init_name__=t.props.navigation.initName,this.__static_res__=t.props.navigation.staticRes||[],this.__uri_prefix__=t.props.navigation.uriPrefix||"://",this.__file_version__=t.props.navigation.fileVersion}return t.prototype.init_page=function(){var t=this;this.__file_version__?(Laya.ResourceVersion.type=Laya.ResourceVersion.FILENAME_VERSION,Laya.ResourceVersion.enable(this.__file_version__,Laya.Handler.create(this,function(){t.navigate(t.__init_name__)}))):this.navigate(this.__init_name__)},t.prototype.deeplink=function(t,n){void 0===n&&(n=null);var e={},o=this.__uri_prefix__||"://",i=t.split(o),_="/";if(1<i.length){var r=i[1].split("?");if(_=r[0],1<r.length)r[1].split("&").forEach(function(t){var n,o=t.split("=");2===o.length&&Object.assign(e,((n={})[o[0]]=o[1],n))})}else _=t;return this.navigate(_,e,n)},t.prototype.navigate=function(t,n,o){var e=this;if(void 0===n&&(n={}),void 0===o&&(o=null),this.__routes__&&this.__routes__.hasOwnProperty(t)&&this.__routes__[t].hasOwnProperty("activity")){var i=this.__routes__[t],_=i.activity,r=[];this.__static_res__&&this.__static_res__.forEach(function(t){r.push(t)}),i.hasOwnProperty("res")&&"object"==typeof i.res&&0<i.res.length&&i.res.forEach(function(t){r.push(t)});var s={};i.hasOwnProperty("res")&&0<i.res.length&&i.res.forEach(function(t){r.push(t)}),i.hasOwnProperty("params")&&Object.assign(s,i.params),Object.assign(s,n),this.__loading__=!0;var a=c.UUID.randUUID();return new u(_,t,a,{navigation:this,routeName:t,routeKey:a,params:s},r,function(t){e.__loading__=!1,e.__navigator__.addChild(t),e.putStack(t),o&&o(!0),e.__loaded_handler__&&e.__loaded_handler__(t)},function(t,n){if(e.__loading__){var o=e.lastStack();o&&o.nextProgress(n)}e.__load_progress_handler__&&e.__load_progress_handler__(t,n)}),!0}return o&&o(!1),!1},t.prototype.finish=function(t,n){void 0===n&&(n=null),this.finishStack(t,n)},t.prototype.popToTop=function(){this.pop(this.__stacks__.length)},t.prototype.pop=function(t){void 0===t&&(t=1),this.popStack(t)},t.prototype.lenStack=function(){return this.__stacks__.length},t.prototype.lastStack=function(){var t=this.lenStack();return 0<t?this.__stacks__[t-1]:null},t.prototype.putStack=function(t){this.hideStack(),this.__stacks__.push(t),this.showStack()},t.prototype.popStack=function(t){if(1<this.lenStack()&&0<t){this.hideStack();for(var n=0;n<t;n++)1<this.lenStack()&&this.__stacks__.pop().exit();this.showStack()}},t.prototype.finishStack=function(t,n){void 0===n&&(n=null);var o=this.lenStack();if(1<o){for(var e=[],i=0;i<o;i++){var _=this.__stacks__[i];if(_.routeName===t){var r=!0;n&&(r=_.routeKey===n),r&&e.length<o-1&&e.push(i)}}if(0<e.length){var s=e.pop(),a=s===o-1;for(a&&this.hideStack(),this.__stacks__.splice(s,1).forEach(function(t){t.exit()});0<e.length;){s=e.pop(),this.__stacks__.splice(s,1).forEach(function(t){t.exit()})}a&&this.showStack()}}},t.prototype.hideStack=function(){var t=this.lenStack();0<t&&this.__stacks__[t-1].hide()},t.prototype.showStack=function(){var t=this.lenStack();0<t&&this.__stacks__[t-1].show()},t}(),i=function(o){function t(t){var n=o.call(this,t)||this;return n.__navigator__=null,n.__navigator__=new e(n),n.__navigator__.init_page(),n}return __extends(t,o),t}(c.PropsComponent);c.createNavigator=function(t,n,o){return void 0===o&&(o={}),console.log("init Navigator, Env: "+c.Build.getEnv()),new i({navigation:{routes:t,initName:n,staticRes:o.res,fileVersion:o.fileVersion,uriPrefix:o.uriPrefix,onLoaded:o.onLoaded,onLoadProgress:o.onLoadProgress}})}}(Tape||(Tape={})),function(_){var r=function(n){var t=window;if(t.WeixinJSBridge)try{t.WeixinJSBridge.invoke("getNetworkType",{},function(){n&&n()})}catch(t){n&&n()}else n&&n()},t=function(){function t(){}return t.play=function(t,n,o){var e=this;void 0===n&&(n=1),void 0===o&&(o=null),this.__on_complete__=o,this.__audio_url__!==t&&(this.__audio_url__=t,this.stop()),r(function(){e.__audio_chancel__?e.__is_playing__||e.__audio_chancel__.play():(e.__is_playing__=!0,e.__audio_chancel__=Laya.SoundManager.playMusic(e.__audio_url__,n,Laya.Handler.create(e,function(){e.__is_playing__=!1,e.__audio_chancel__=null,e.__on_complete__&&e.__on_complete__()})))})},t.stop=function(){this.__audio_chancel__&&(this.__audio_chancel__.stop(),this.__audio_chancel__=null,this.__is_playing__=!1)},t.pause=function(){this.__audio_chancel__&&(this.__audio_chancel__.pause(),this.__is_playing__=!1)},t.__audio_url__="",t.__audio_chancel__=null,t.__is_playing__=!1,t.__on_complete__=null,t}();_.BackgroundMusic=t;var n=function(){function i(t){this.__audio_url__="",this.__audio_chancel__=null,this.__is_playing__=!1,this.__on_complete__=null,this.__audio_url__=t}return i.config=function(t,n,o,e){this.soundWebDir=t||"",this.soundWebExt=n||"",this.soundConchDir=o||"",this.soundConchExt=e||""},i.play=function(t,n,o){void 0===n&&(n=1),void 0===o&&(o=null);var e=new i(t);return e.play(n,o),e},i.prototype.play=function(o,t){var e=this;void 0===o&&(o=1),void 0===t&&(t=null),this.__on_complete__=t,r(function(){if(e.__audio_chancel__)e.__is_playing__||e.__audio_chancel__.play();else{e.__is_playing__=!0;var t="";if(_.MarketHandler.isConchApp()){t=i.soundConchDir+e.__audio_url__+i.soundConchExt;var n=Laya.Utils.getFileExtension(t);if(!i.showErrorAlert&&"wav"!=n&&"ogg"!=n)return}else t=i.soundWebDir+e.__audio_url__+i.soundWebExt;e.__audio_chancel__=Laya.SoundManager.playSound(t,o,Laya.Handler.create(e,function(){e.__is_playing__=!1,e.__on_complete__&&e.__on_complete__()}))}})},i.prototype.stop=function(){this.__audio_chancel__&&(this.__audio_chancel__.stop(),this.__audio_chancel__=null,this.__is_playing__=!1)},i.prototype.pause=function(){this.__audio_chancel__&&(this.__audio_chancel__.pause(),this.__is_playing__=!1)},i.showErrorAlert=_.Build.isDebug(),i.soundWebDir="",i.soundWebExt="",i.soundConchDir="",i.soundConchExt="",i}();_.Audio=n}(Tape||(Tape={})),function(i){var o=function(){function t(){}return t.SOCKET_CONNECTE_ING="connect_ing",t.SOCKET_CONNECTED="connected",t.SOCKET_CONNECT_CLOSDE="connect_closed",t.SOCKET_CONNECT_ERROR="connect_error",t.SOCKET_MESSAGE_RECEIVED="message_received",t.SOCKET_MESSAGE_DELIVERED="message_delivered",t.EVENT_SOCKET_MESSAGE_PUBLISH="message_publish",t}(),t=function(){function t(t){void 0===t&&(t=!1),this.__web_socket__=null,this.__debug__=!0,this.onConnecting=null,this.onConnected=null,this.onClosed=null,this.onError=null,this.onMessageReceived=null,this.__debug__=t}return t.prototype.connect=function(t){var n=this;this.isConnecting()||(this.printLog(" -----WS---"+o.SOCKET_CONNECTE_ING),this.onConnecting&&this.onConnecting(),this.__is_connect_ing__=!0,this.__web_socket__=new Laya.Socket,this.__web_socket__.connectByUrl(t),this.__web_socket__.on(Laya.Event.OPEN,this,function(){n.printLog(" -----WS---"+o.SOCKET_CONNECTED),n.__is_connect__=!0,n.onConnected&&n.onConnected()}),this.__web_socket__.on(Laya.Event.CLOSE,this,function(t){(n.isConnecting()||n.isConnected())&&(n.printLog(" -----WS---"+o.SOCKET_CONNECT_CLOSDE,t),n.__is_connect__=!1,n.__is_connect_ing__=!1,n.onClosed&&n.onClosed(t))}),this.__web_socket__.on(Laya.Event.ERROR,this,function(t){n.printLog(" -----WS---"+o.SOCKET_CONNECT_ERROR,t),n.__is_connect__=!1,n.__is_connect_ing__=!1,n.onError&&n.onError(t)}),this.__web_socket__.on(Laya.Event.MESSAGE,this,function(t){n.printLog(" -----WS---"+o.SOCKET_MESSAGE_RECEIVED,t),n.onMessageReceived&&n.onMessageReceived(t)}))},t.prototype.disconnect=function(){(this.isConnecting()||this.isConnected())&&(this.printLog(" -----WS---"+o.SOCKET_CONNECT_CLOSDE),this.__web_socket__.close(),this.__is_connect__=!1,this.__is_connect_ing__=!1,this.onClosed&&this.onClosed())},t.prototype.isConnected=function(){return this.__is_connect__},t.prototype.isConnecting=function(){return this.__is_connect_ing__},t.prototype.publishMessage=function(t){if(this.isConnected()){var n="";"object"==typeof t?n=JSON.stringify(t):"string"==typeof t&&(n=t),this.printLog(" -----WS---"+o.EVENT_SOCKET_MESSAGE_PUBLISH,n),this.__web_socket__.send(n)}},t.prototype.printLog=function(t){for(var n,o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];this.__debug__&&(n=i.Logger).log.apply(n,[t].concat(o))},t}();i.WebSocket=t}(Tape||(Tape={})),function(t){var o=function(){function t(){}return t.isConchApp=function(){return window.hasOwnProperty("conch")},t.conchShowAlertOnJsException=function(t){this.isConchApp()&&window.hasOwnProperty("showAlertOnJsException")&&window.showAlertOnJsException(t)},t.conchSetOnBackPressedFunction=function(t){this.isConchApp()&&window.conch.hasOwnProperty("setOnBackPressedFunction")&&window.conch.setOnBackPressedFunction(function(){t&&t()})},t.conchExit=function(){this.isConchApp()&&window.conch.hasOwnProperty("exit")&&window.conch.exit()},t.conchDeviceInfo=function(){if(this.isConchApp())try{return JSON.parse(window.conch.config.getDeviceInfo())}catch(t){}return{}},t.onAuthorize=null,t.onSendMessage=null,t.onEnterShare=null,t.onGetMarketName=null,t.onGetUserInfo=null,t.onGetFriends=null,t.onLogin=null,t.onLogout=null,t.onRecharge=null,t}();t.MarketHandler=o;var n=function(){function t(){}return t.getMarketName=function(){return o.isConchApp()?Laya.conchMarket.getMarketName():o.onGetMarketName&&o.onGetMarketName()},t.authorize=function(t,n){void 0===n&&(n=null),o.isConchApp()?Laya.conchMarket.authorize(t,n):o.onAuthorize&&o.onAuthorize(t,n)},t.login=function(t,n){void 0===n&&(n=null),o.isConchApp()?Laya.conchMarket.login(t,n):o.onLogin&&o.onLogin(t,n)},t.logout=function(t,n){void 0===n&&(n=null),o.isConchApp()?Laya.conchMarket.logout(t,n):o.onLogout&&o.onLogout(t,n)},t.recharge=function(t,n){void 0===n&&(n=null),o.isConchApp()?Laya.conchMarket.recharge(t,n):o.onRecharge&&o.onRecharge(t,n)},t.sendMessage=function(t,n){void 0===n&&(n=null),o.isConchApp()?Laya.conchMarket.sendMessageToPlatform(t,n):o.onSendMessage&&o.onSendMessage(t,n)},t.enterShare=function(t,n){void 0===n&&(n=null),o.isConchApp()?Laya.conchMarket.enterShareAndFeed(t,n):o.onEnterShare&&o.onEnterShare(t,n)},t.getUserInfo=function(t,n){void 0===n&&(n=null),o.isConchApp()?Laya.conchMarket.getUserInfo(t,n):o.onGetUserInfo&&o.onGetUserInfo(t,n)},t.getFriendList=function(t,n){void 0===n&&(n=null),o.isConchApp()?Laya.conchMarket.getGameFriends(t,n):o.onGetFriends&&o.onGetFriends(t,n)},t}();t.Market=n}(Tape||(Tape={}));